var _0x0213=['innerHeight','#scroll_notice','visibility','visible','resize','custom_scrollbars','element','instances','options','#Msg-content-container-','niceScroll','#AFAFAF','0px\x20solid\x20white','7px','getNiceScroll','remove','\x5c$&','.chat_uname','closest','.chat_message','.chat_content','.chat_profile_image','chat_content','($|\x5cs+|\x5c!|\x5c?|\x5c,|\x5c.)','/me\x20','/em\x20','\x27></span>&nbsp;*</div>','substr','\x0a\x09\x09<div\x20class=\x27msg\x20chat_message\x27>\x0a\x09\x09\x09<span\x20chat_profile_image_container\x27>\x0a\x09\x09\x09\x09<img\x20class=\x27chat_profile_image\x27\x20src=\x27','\x27>\x0a\x09\x09\x09</span>\x0a\x09\x09\x09<span\x20class=\x27chat_right_side\x27>\x0a\x09\x09\x09\x09<span\x20class=\x27chat_uname_container\x27>\x0a\x09\x09\x09\x09\x09<span\x20class=\x27chat_uname\x27></span>\x20|\x20<span\x20class=\x27chat_timeago\x27\x20datetime=\x27','\x27\x20title=\x27','\x27></span>\x0a\x09\x09\x09\x09</span>\x0a\x09\x09\x09\x09<span\x20class=\x27chat_content_container\x27>\x0a\x09\x09\x09\x09\x09<span\x20class=\x27','\x27></span>\x0a\x09\x09\x09\x09</span>\x0a\x09\x09\x09</span>\x0a\x09\x09</div>','render','.chat_timeago','default','.dash','#chat_area\x20>\x20.msg','clone','image','images_enabled','tv_enabled','twitch','radio_enabled','#media_image','target','#test_image','The\x20provided\x20image\x20URL\x20failed\x20to\x20load','title','image_url','image_type','link','Linker:\x20','image_uploader','Uploader:\x20','\x20|\x20Size:\x20','image_size','announcement_content_container','\x20id=\x27','\x20dotted','&nbsp;','string','<div','class=\x27msg\x20announcement\x20announcement_','\x27><span\x20class=\x27','<span\x20class=\x27','\x27></span><span\x20class=\x27dotted\x27></span>','.dotted','urlize','\x27></span>','</span></div>','parent','<a\x20class=\x27generic\x27\x20target=\x27_blank\x27\x20href=\x27','</a>','generic','<a\x20class=\x27','\x27\x20target=\x27_blank\x27\x20href=\x27$1\x27>$1</a>','/me','/unclear','/claim','/reclaim','/enableimages','/enabletv','/enableradio','/disableradio','/users','/room','/rooms','/visited','/roomname','/roomnameedit','/played','/search','/voice1','/voice2','/voice3','/voice4','/op','/admin','/resetvoices','/ban','/unbanall','/unbanlast','/bannedcount','/kick','/public','/private','/log','/enablelog','/disablelog','/clearlog','/tv','/userinfo','/topicadd','/topictrim','/topicaddstart','/topictrimstart','/topicedit','/help3','/help','/stopradio','/startradio','/volume','/history','/details','/changeusername','/changeemail','/fill','/clear','/disableimages','/disabletv','/role','/removeops','/radio','/image','/status','/topic','/help2','Invalid\x20command.\x20Use\x20//\x20to\x20start\x20a\x20message\x20with\x20/','sendchat','You\x20don\x27t\x20have\x20permission\x20to\x20chat','Topic\x20is\x20already\x20set\x20to\x20that','There\x20is\x20no\x20more\x20room\x20to\x20add\x20that\x20to\x20the\x20topic','Nothing\x20to\x20trim','/topic\x20','topic_setter','(^|\x5cs+)','topic','\x20changed\x20the\x20topic\x20to:\x20','old_username','\x20is\x20now\x20known\x20as\x20','You\x20are\x20now\x20known\x20as\x20','pasted','get','isArray','icestats','source','listenurl','artist','fail','#played','.played_item','tab','\x22\x20by\x20\x22','#now_playing','#now_playing_controls','<div\x20class=\x27pititle\x27></div><div\x20class=\x27piartist\x27></div>','.piartist','by\x20','.pititle','played','#now_playing_area','#audio','volume','#playing_icon','#volume_area','#toggle_now_playing_text','Stop\x20Radio','Start\x20Radio','getElementById','header','wheel','down','#volume','Argument\x20must\x20be\x20a\x20number','round','hidden','(*)\x20','(!)\x20','visibilitychange','.dash_container','%20','createElement','execCommand','removeChild','#pup','which','BCDFGHJKLMNPQRSTVWXZ','random','same','open','_blank','location','create_room','<input\x20type=\x27text\x27\x20id=\x27search_filter\x27\x20class=\x27filter_input\x27\x20placeholder=\x27Search\x27><div\x20class=\x27spacer3\x27></div>','<div\x20id=\x27search_container\x27></div>','#search_filter','#search_container','focus','Search\x20for\x20chat\x20messages','info','reverse','<div\x20class=\x27search_result_item\x27><div\x20class=\x27search_result_uname\x27></div><div\x20class=\x27search_result_content\x27></div>','<div\x20class=\x27search_result_item\x27><div\x20class=\x27search_result_content\x27></div>','.search_result_content','.search_result_item','No\x20results','#Msg-content-container-info','<div><br><br><br><br></div>','topic_date','#header_topic_text','#header_topic','Room\x20is\x20already\x20claimed','claim_room','You\x20are\x20not\x20a\x20room\x20admin','Room\x20hasn\x27t\x20been\x20claimed\x20yet','firstime','toUpperCase','You\x20can\x27t\x20voice\x20yourself','image_date','\x20linked\x20an\x20image','\x20uploaded\x20an\x20image','<i\x20class=\x27icon2\x20fa\x20fa-camera\x27></i>','vtype','username1','\x20gave\x20','\x20to\x20','username2','\x20gave\x20op\x20to\x20','updated','The\x20room\x20has\x20been\x20reclaimed\x20by\x20','\x20has\x20claimed\x20this\x20room','You\x20can\x27t\x20admin\x20yourself','Nobody\x20is\x20using\x20that\x20username','You\x20can\x27t\x20op\x20yourself','Room\x20is\x20already\x20public','Room\x20is\x20already\x20private','change_privacy','what','\x20made\x20the\x20room\x20public','.\x20The\x20room\x20won\x27t\x20appear\x20in\x20the\x20public\x20room\x20list','\x20made\x20the\x20room\x20private','http://','https://','youtube.com','youtu.be','Invalid\x20radio\x20source','You\x20don\x27t\x20have\x20permission\x20to\x20change\x20the\x20radio','radio_title','<i\x20class=\x27icon2\x20fa\x20fa-volume-up\x27></i>','\x20changed\x20the\x20radio\x20to\x20','twitch.tv','YouTube\x20support\x20is\x20not\x20enabled','tv_title','<i\x20class=\x27icon2\x20fa\x20fa-television\x27></i>','\x20changed\x20the\x20tv\x20to\x20','unban_all','unban_last','count','There\x20is\x20','There\x20are\x20','\x20users\x20banned','You\x20can\x27t\x20kick\x20yourself','\x20unbanned\x20all\x20banned\x20users','\x20unbanned\x20the\x20latest\x20banned\x20user','\x20already\x20has\x20voice\x201','\x20already\x20has\x20voice\x202','\x20already\x20has\x20voice\x203','\x20already\x20has\x20voice\x204','\x20already\x20has\x20no\x20role','https://soundcloud.com/search?q=','https://www.youtube.com/results?search_query=','remove_ops','\x20removed\x20all\x20ops','\x20was\x20kicked\x20by\x20','info1','\x20was\x20banned\x20by\x20','assign','userinfo','profile','innerHTML','image_picker','create','content_container','change_class','close_all','modal_color','sound_notifications','#setting_background_image','#setting_custom_scrollbars','#setting_sound_notifications','#setting_modal_color','#Msg-content-container-played','.userlist_item','#Msg-content-container-userlist','#roomlist_filter','.roomlist_item','#Msg-content-container-roomlist','.history_item','Player','youtube_player','mute','media_twitch_video_container','AChannelThatDoesntExisttttt','READY','media_twitch_video','video_frame','#userinfo_profile_image','#userinfo_username','<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Room\x20Name</div><div\x20class=\x27info_item_content\x27\x20id=\x27status_room_name\x27></div></div>','<div\x20class=\x27info_item\x27\x20title=\x27Setter:\x20','\x27><div\x20class=\x27info_title\x27>Topic</div><div\x20class=\x27info_item_content\x27\x20id=\x27status_topic\x27></div></div>','<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Topic</div><div\x20class=\x27info_item_content\x27\x20id=\x27status_topic\x27>No\x20topic\x20set</div></div>','<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Privacy</div>','<div\x20class=\x27info_item_content\x27>Public</div></div>','<div\x20class=\x27info_item_content\x27>Private</div></div>','<div\x20class=\x27info_item_content\x27>Disabled</div></div>','#status_room_name','#status_topic','#status_radio_source','Are\x20you\x20sure?\x20Make\x20sure\x20you\x20know\x20your\x20current\x20username\x20and\x20password\x20to\x20avoid\x20getting\x20locked\x20out\x20later.','clean_string4','Username\x20contains\x20invalid\x20characters','Username\x20can\x27t\x20be\x20empty','That\x27s\x20already\x20your\x20username','change_username','Username\x20succesfully\x20changed\x20to\x20','\x20characters\x20long','Password\x20is\x20too\x20long','Password\x20succesfully\x20changed\x20to\x20','Invalid\x20email\x20address','Email\x20is\x20too\x20long','change_email','Email\x20succesfully\x20changed\x20to\x20','get_details','email','<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Username</div><div\x20class=\x27info_item_content\x27\x20id=\x27details_username\x27></div></div>','<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Email</div><div\x20class=\x27info_item_content\x27\x20id=\x27details_email\x27></div></div>','#details_email','content','Log\x20is\x20already\x20enabled','Log\x20is\x20already\x20disabled','clear_log','You','\x20cleared\x20the\x20log','Log\x20is\x20enabled','Log\x20is\x20disabled','title=\x22','<div\x20id=\x22modal_spinner\x22\x20class=\x27spinner1\x27></div><img\x20','#modal_image','#modal_spinner','style','<div\x20class=\x27padding1\x27>Image\x20no\x20longer\x20available</div>','You\x20are\x20not\x20a\x20room\x20operator','#setting_modal_color\x20option:selected','<i\x20class=\x27fa\x20fa-volume-up\x27></i>','<div\x20class=\x27spacer3\x27></div>','Enter\x20a\x20YouTube\x20search\x20term\x20or\x20URL','<br>Or\x20an\x20audio\x20file/stream\x20URL','<input\x20id=\x27radio_url_picker_input\x27\x20class=\x27input1\x27>','<i\x20class=\x27fa\x20fa-television\x27></i>','<br>Or\x20a\x20Twitch\x20channel/video\x20URL','<br>Or\x20a\x20video\x20file/stream\x20URL','<input\x20id=\x27tv_url_picker_input\x27\x20class=\x27input1\x27>','#tv_url_picker_input','scale','regular','#media_split','children','#media_image_container','margin-bottom','-1em','#media_tv','margin-top','#media','#footer_toggle_images_icon','removeClass','fa-toggle-off','fa-toggle-on','addClass','#footer_toggle_tv_icon','#radio','#footer_toggle_radio_icon','#profile_image_picker','result','<form>','form','reset','#profile_image_canvas_image','#profile_image_canvas_button','toBlob','profile_image_upload','close','image/png','readAsDataURL','canvas','getContext','width','height','imageSmoothingEnabled','drawImage','globalCompositeOperation','beginPath','arc','fill','#show_profile_image','#show_profile_uname','ratio','.video_frame','Room\x20images\x20are\x20already\x20disabled','change_images_enabled','Room\x20tv\x20is\x20already\x20disabled','change_tv_enabled','Room\x20radio\x20is\x20already\x20enabled','change_radio_enabled','\x20enabled\x20room\x20images','\x20disabled\x20room\x20images','\x20enabled\x20room\x20tv','\x20disabled\x20room\x20tv','\x20enabled\x20room\x20radio','\x20disabled\x20room\x20radio','prepend','<div\x20id=\x27background_image\x27></div>','change_default_theme','\x20changed\x20the\x20theme\x20to\x20','shift','#default_background_image_input','Image\x20is\x20too\x20big','\x20changed\x20the\x20background\x20image','Background\x20image\x20is\x20already\x20enabled','Background\x20image\x20is\x20already\x20disabled','\x20enabled\x20the\x20background\x20image','\x20disabled\x20the\x20background\x20image','That\x20permission\x20is\x20already\x20set\x20to\x20that','change_voice_permission','\x20set\x20','\x20to\x20true','\x20to\x20false','#chat_main','min-width','50%','right\x20now','1\x20minute\x20ago','%s\x20minutes\x20ago','in\x20%s\x20minutes','in\x201\x20hour','%s\x20hours\x20ago','1\x20day\x20ago','in\x201\x20day','%s\x20days\x20ago','in\x20%s\x20days','1\x20week\x20ago','in\x201\x20week','%s\x20weeks\x20ago','in\x20%s\x20weeks','in\x201\x20month','%s\x20months\x20ago','in\x20%s\x20months','1\x20year\x20ago','in\x201\x20year','%s\x20years\x20ago','in\x20%s\x20years','register','settings_v15','input_history_v11','first','normal','body','css','background-image','#main_container','pointer-events','parse','getItem','removeItem','stringify','setItem','Welcome\x20to\x20','big','compile','html','#template_create_room','#template_open_room','#template_userlist','#template_roomlist','#template_status','#template_help','#template_help2','#template_help3','#template_userinfo','#template_profile','#template_image_picker','show','This\x20room\x20is\x20public','This\x20room\x20is\x20private','small','Room:\x20','admin','clean_string2','substring','That\x27s\x20already\x20the\x20room\x20name','change_room_name','/roomname\x20','Setter:\x20','Radio:\x20','Topic:\x20','\x20|\x20','role','v1_chat_permission','v1_tv_permission','v1_radio_permission','v2_chat_permission','v2_images_permission','v2_tv_permission','v2_radio_permission','v3_images_permission','v3_tv_permission','v3_radio_permission','v4_chat_permission','v4_tv_permission','v4_radio_permission','#toggle_images_container','display','#footer_upload_icon','inline-block','none','#footer_radio_icon','#toggle_radio_container','initial','#footer_tv_icon','#toggle_tv_container','voice2','voice4','voice3','voice1','You\x20are\x20an\x20admin','You\x20are\x20an\x20op','voice','You\x20have\x20voice','You\x20have\x20chat\x20permission','You\x20have\x20images\x20permission','You\x20have\x20radio\x20permission','You\x20have\x20tv\x20permission','You\x20cannot\x20interact','Username:\x20','emit','update','type','msg','profile_image','joined','room_name','log','log_messages','public','new_username','chat_announcement','###','connection_lost','image_change','profile_image_changed','userjoin','roomlist','topic_change','room_name_changed','log_changed','log_cleared','announce_voice','announce_op','voices_resetted','announce_removedops','announce_unban_all','receive_banned_count','nothingtounban','There\x20was\x20nothing\x20to\x20unban','There\x20was\x20nothing\x20to\x20clear','forbiddenuser','novoicestoreset','There\x20were\x20no\x20voices\x20to\x20reset','isalready','who','announce_unclaim','privacy_change','changed_tv_source','reserved','unreserved','alreadyreserved','couldnotrecover','You\x20don\x27t\x20seem\x20to\x20own\x20that\x20username','The\x20song\x20couldn\x27t\x20be\x20found','videonotfound','The\x20video\x20couldn\x27t\x20be\x20found','room_created','redirect','username_changed','username_already_exists','Username\x20already\x20exists','email_changed','room_images_enabled_change','room_tv_enabled_change','room_radio_enabled_change','default_theme_change','default_background_image_change','default_background_image_enabled_change','voice_permission_change','disconnection','pinged','kicked','banned','request_slice_upload','current_slice','slice','min','size','reader','readAsArrayBuffer','floor','#uploading_','.announcement_content','text','upload_ended','date','connected','radio_source','radio_setter','radio_date','radio','split','join','/status-json.xsl','stopVideo','youtube','tv_source','tv_setter','tv_date','tv_type','pauseVideo','pause','#media_video','loadVideoById','loadPlaylist','#media_twitch_video_container','#media_youtube_video_container','flex','playVideo','media_youtube_video','video','channel','setChannel','play','src','default_theme','default_background_image','default_background_image_enabled','get_lighter_or_darker','background_image','rgb_to_rgba','background-color','.bg1','.bg2','color','#background_image','url(\x27','replace','list=','list','match','indexOf','twitch.tv/videos/','clips.twitch.tv','username','#usercount','Users','length','push','splice','startsWith','[O]','[V1]','[V2]','[V3]','[V4]','#userlist','click','add','sort','<div\x20class=\x27userlist_item\x27><span\x20class=\x27ui_item_role\x27></span><span\x20class=\x27ui_item_uname\x27></span></div>','find','padding-right','.ui_item_uname','userlist','.ui_item_uname,\x20.chat_uname','fadeOut','Voice\x203','Voice\x204','I\x27m\x20Sure','Admin','Kick','.played_item,\x20#now_playing_controls','Search\x20on\x20Google','google','data','Search\x20on\x20SoundCloud','soundcloud','Search\x20on\x20YouTube','#volume_controls','volume_context','100%','90%','80%','70%','60%','40%','30%','20%','#roomlist','room_id','<div\x20class=\x27roomlist_name\x27></div><div\x20class=\x27roomlist_topic\x27></div><div\x20class=\x27roomlist_here\x27></div><div\x20class=\x27roomlist_count\x27></div>','<div\x20class=\x27roomlist_item\x27\x20data-room_id=\x27','</div>','.roomlist_name','.roomlist_count','users','block','No\x20topic\x20set','.roomlist_topic','.admin_v_toggle','each','next','menu','change','prop','ptype','val','#admin_enable_tv','#admin_enable_tv\x20option:selected','#admin_enable_radio','#admin_enable_radio\x20option:selected','#admin_log','#admin_log\x20option:selected','#admin_menu','#admin_default_theme','hide.spectrum','#admin_default_background_image_select','#admin_default_background_image_select\x20option:selected','#admin_default_background_image','addEventListener','load','.admin_voice_permissions_checkbox','checked','selected','option','set','attr','#create_room_name','#create_room_done','#userlist_filter','#played_filter','#image_file_picker','addedfile','You\x20don\x27t\x20have\x20permission\x20to\x20upload\x20images','files','File\x20is\x20too\x20big','pop','toLowerCase','png','jpeg','gif','image_upload','loadend','slice_upload','action','now','name','clean_string5','.gif','no_name','Uploading:\x200%','uploading_','tagName','textarea','input','getAttribute','number','tel','url','search','datetime','datetime-local','time','month','bind','copy','getSelection','toString','activeElement','setSelectionRange','removeAllRanges','keydown','key','#image_url_picker_input','trim','preventDefault','Enter','#radio_url_picker_input','shiftKey','#open_room_here','trigger','#open_room_new_tab','Tab','ctrlKey','#input','ArrowUp','ArrowDown','PageDown','value','#chat_area','scrollTop','scrollHeight','blur','scrollLeft','scrollWidth','<div></div>','<input\x20type=\x27text\x27\x20id=\x27history_filter\x27\x20class=\x27filter_input\x27\x20placeholder=\x27Filter\x27\x20','<div\x20id=\x27history_items\x27></div>','<div\x20title=\x27','\x27\x20class=\x27history_item\x27></div>','append','#history_filter','#history_items','Messages\x20or\x20commands\x20you\x20type\x20will\x20appear\x20here','valueOf','selectionStart'];(function(_0x122ef9,_0x451d2a){var _0x42fba0=function(_0x17c9d3){while(--_0x17c9d3){_0x122ef9['push'](_0x122ef9['shift']());}};_0x42fba0(++_0x451d2a);}(_0x0213,0x1d9));var _0x3021=function(_0x3c6ae2,_0x5c52d8){_0x3c6ae2=_0x3c6ae2-0x0;var _0x4edda=_0x0213[_0x3c6ae2];return _0x4edda;};var socket;var ls_settings=_0x3021('0x0');var ls_input_history=_0x3021('0x1');var settings;var is_public;var room_name;var username;var image_url='';var image_uploader='';var image_size=0x0;var image_date='';var topic='';var topic_setter='';var topic_date='';var dropzone;var colorlib=ColorLib();var played=[];var input_history=[];var input_history_index=0x0;var chat_history=[];var userlist=[];var usernames=[];var role='';var chat_permission;var upload_permission;var radio_permission;var tv_permission;var can_images;var can_chat;var can_radio;var can_tv;var change_when_focused=![];var radio_type='';var radio_source='';var radio_title='';var radio_metadata='';var radio_setter='';var radio_date='';var tv_type='';var tv_source='';var tv_title='';var tv_metadata='';var tv_setter='';var tv_date='';var claimed=![];var get_metadata;var no_meta_count;var tabbed_list=[];var tabbed_word='';var tabbed_start=0x0;var tabbed_end=0x0;var crm=![];var orb=![];var stu=![];var rup=![];var tup=![];var iup=![];var orb_timeout;var modal_open=![];var started=![];var connections=0x0;var afk_timer;var afk=![];var alert_mode=0x0;var alert_timer;var commands=[];var chat_scrollbar;var template_menu;var template_create_room;var template_userlist;var template_roomlist;var template_played;var template_open_room;var template_status;var template_help;var template_help2;var template_help3;var template_userinfo;var template_profile;var template_image_picker;var msg_menu;var msg_userinfo;var msg_userlist;var msg_roomlist;var msg_played;var msg_image;var msg_profile;var msg_info;var msg_image_picker;var played_filtered=![];var userlist_filtered=![];var roomlist_filter_string='';var yt_player;var yt_video_player;var youtube_player;var youtube_video_player;var fetched_room_id;var utilz=Utilz();var log_messages;var profile_image;var change_image_when_focused=![];var change_tv_when_focused=![];var twitch_video_player;var room_images_enabled=!![];var room_tv_enabled=!![];var room_radio_enabled=!![];var radio_started=![];var default_theme;var default_background_image;var default_background_image_enabled;var image_queue=[_0x3021('0x2')];var image_queue_timeout;var layout_mode=_0x3021('0x3');var last_image_change;var last_tv_change;var last_radio_change;var files={};var time_ago;var input_changed=![];function init(){get_volume();activate_key_detection();compile_templates();get_settings();start_msg();start_settings_state();start_settings_listeners();start_filters();start_image_events();start_dropzone();start_volume_scroll();activate_window_visibility_listener();input_click_events();copypaste_events();main_menu_events();scroll_events();resize_events();register_commands();start_chat_scrollbar();start_chat_click_events();start_played_click_events();start_userlist_click_events();start_roomlist_click_events();setup_media_video();start_username_context_menu();start_played_context_menu();start_volume_context_menu();start_metadata_loop();start_titles();setup_show_profile();setup_main_menu();start_twitch();check_image_queue();setup_timeago();setup_input();start_socket();}function make_main_container_visible(){$(_0x3021('0x4'))[_0x3021('0x5')](_0x3021('0x6'),'none');$(_0x3021('0x7'))[_0x3021('0x5')]('opacity',0x1)['css'](_0x3021('0x8'),'initial');}function get_local_storage(_0x5aa59d){if(localStorage[_0x5aa59d]){try{var _0x50c7b8=JSON[_0x3021('0x9')](localStorage[_0x3021('0xa')](_0x5aa59d));}catch(_0x4059dc){localStorage[_0x3021('0xb')](_0x5aa59d);var _0x50c7b8=null;}}else{var _0x50c7b8=null;}return _0x50c7b8;}function save_local_storage(_0x566fd9,_0x38c088){if(typeof _0x38c088!=='string'){_0x38c088=JSON[_0x3021('0xc')](_0x38c088);}localStorage[_0x3021('0xd')](_0x566fd9,_0x38c088);}function remove_local_storage(_0x4a1192){localStorage[_0x3021('0xb')](_0x4a1192);}function show_intro(){chat_announce('','',_0x3021('0xe')+room_name+',\x20'+username,_0x3021('0xf'));}function compile_templates(){template_menu=Handlebars[_0x3021('0x10')]($('#template_menu')[_0x3021('0x11')]());template_create_room=Handlebars[_0x3021('0x10')]($(_0x3021('0x12'))[_0x3021('0x11')]());template_open_room=Handlebars[_0x3021('0x10')]($(_0x3021('0x13'))[_0x3021('0x11')]());template_userlist=Handlebars[_0x3021('0x10')]($(_0x3021('0x14'))[_0x3021('0x11')]());template_roomlist=Handlebars['compile']($(_0x3021('0x15'))[_0x3021('0x11')]());template_played=Handlebars[_0x3021('0x10')]($('#template_played')[_0x3021('0x11')]());template_status=Handlebars[_0x3021('0x10')]($(_0x3021('0x16'))[_0x3021('0x11')]());template_help=Handlebars[_0x3021('0x10')]($(_0x3021('0x17'))['html']());template_help2=Handlebars[_0x3021('0x10')]($(_0x3021('0x18'))[_0x3021('0x11')]());template_help3=Handlebars[_0x3021('0x10')]($(_0x3021('0x19'))[_0x3021('0x11')]());template_userinfo=Handlebars['compile']($(_0x3021('0x1a'))[_0x3021('0x11')]());template_profile=Handlebars[_0x3021('0x10')]($(_0x3021('0x1b'))[_0x3021('0x11')]());template_image_picker=Handlebars['compile']($(_0x3021('0x1c'))[_0x3021('0x11')]());}function help(){msg_info[_0x3021('0x1d')](template_help());}function help2(){msg_info[_0x3021('0x1d')](template_help2());}function help3(){msg_info['show'](template_help3());}function show_public(){if(claimed){if(is_public){chat_announce('[',']',_0x3021('0x1e'),'small');}else{chat_announce('[',']',_0x3021('0x1f'),_0x3021('0x20'));}}}function show_room(){chat_announce('[',']',_0x3021('0x21')+room_name,_0x3021('0x20'));}function change_room_name(_0x282863){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();}_0x282863=utilz[_0x3021('0x23')](_0x282863[_0x3021('0x24')](0x0,max_room_name_length));if(_0x282863===room_name){chat_announce('[',']',_0x3021('0x25'),_0x3021('0x20'));return;}socket_emit(_0x3021('0x26'),{'name':_0x282863});}function room_name_edit(){change_input(_0x3021('0x27')+room_name);}function show_radio_source(){if(radio_setter!==''){chat_announce('[',']','Radio:\x20'+radio_source,_0x3021('0x20'),![],_0x3021('0x28')+radio_setter+'\x20|\x20'+radio_date);}else{chat_announce('[',']',_0x3021('0x29')+radio_source,_0x3021('0x20'));}}function get_unset_topic(){if(claimed){if(role===_0x3021('0x22')||role==='op'){return default_topic_admin;}else{return default_topic;}}else{return default_topic_unclaimed;}}function show_topic(_0x1f5e25=_0x3021('0x20')){if(_0x1f5e25===_0x3021('0x20')){var _0x1162ef='[';var _0x1844e9=']';}else{var _0x1162ef='';var _0x1844e9='';}if(topic){if(topic_setter!==''){chat_announce(_0x1162ef,_0x1844e9,_0x3021('0x2a')+topic,_0x1f5e25,![],_0x3021('0x28')+topic_setter+_0x3021('0x2b')+topic_date);}else{chat_announce(_0x1162ef,_0x1844e9,_0x3021('0x2a')+topic,_0x1f5e25);}}else{chat_announce(_0x1162ef,_0x1844e9,_0x3021('0x2a')+get_unset_topic(),_0x1f5e25);}}function check_role(_0x488ec4){role=_0x488ec4[_0x3021('0x2c')];v1_chat_permission=_0x488ec4[_0x3021('0x2d')];v1_images_permission=_0x488ec4['v1_images_permission'];v1_tv_permission=_0x488ec4[_0x3021('0x2e')];v1_radio_permission=_0x488ec4[_0x3021('0x2f')];v2_chat_permission=_0x488ec4[_0x3021('0x30')];v2_images_permission=_0x488ec4[_0x3021('0x31')];v2_tv_permission=_0x488ec4[_0x3021('0x32')];v2_radio_permission=_0x488ec4[_0x3021('0x33')];v3_chat_permission=_0x488ec4['v3_chat_permission'];v3_images_permission=_0x488ec4[_0x3021('0x34')];v3_tv_permission=_0x488ec4[_0x3021('0x35')];v3_radio_permission=_0x488ec4[_0x3021('0x36')];v4_chat_permission=_0x488ec4[_0x3021('0x37')];v4_images_permission=_0x488ec4['v4_images_permission'];v4_tv_permission=_0x488ec4[_0x3021('0x38')];v4_radio_permission=_0x488ec4[_0x3021('0x39')];check_permissions();}function check_permissions(){can_chat=check_chat_permission(role);can_images=room_images_enabled&&check_images_permission(role);can_radio=room_radio_enabled&&check_radio_permission(role);can_tv=room_tv_enabled&&check_tv_permission(role);setup_icons();}function setup_icons(){if(room_images_enabled){$(_0x3021('0x3a'))[_0x3021('0x5')](_0x3021('0x3b'),'initial');if(can_images){$(_0x3021('0x3c'))[_0x3021('0x5')]('display',_0x3021('0x3d'));}else{$('#footer_upload_icon')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}}else{$(_0x3021('0x3c'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0x3a'))[_0x3021('0x5')](_0x3021('0x3b'),'none');}if(room_radio_enabled){$('#toggle_radio_container')[_0x3021('0x5')](_0x3021('0x3b'),'initial');if(can_radio){$('#footer_radio_icon')[_0x3021('0x5')]('display',_0x3021('0x3d'));}else{$('#footer_radio_icon')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}}else{$(_0x3021('0x3f'))['css'](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0x40'))[_0x3021('0x5')]('display',_0x3021('0x3e'));}if(room_tv_enabled){$('#toggle_tv_container')[_0x3021('0x5')]('display',_0x3021('0x41'));if(can_tv){$(_0x3021('0x42'))[_0x3021('0x5')]('display','inline-block');}else{$(_0x3021('0x42'))[_0x3021('0x5')](_0x3021('0x3b'),'none');}}else{$(_0x3021('0x42'))[_0x3021('0x5')](_0x3021('0x3b'),'none');$(_0x3021('0x43'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}}function check_chat_permission(_0x542812){if(_0x542812===_0x3021('0x22')||_0x542812==='op'){return!![];}if(_0x542812==='voice1'){if(v1_chat_permission){return!![];}}else if(_0x542812===_0x3021('0x44')){if(v2_chat_permission){return!![];}}else if(_0x542812==='voice3'){if(v3_chat_permission){return!![];}}else if(_0x542812===_0x3021('0x45')){if(v4_chat_permission){return!![];}}return![];}function check_images_permission(_0x5d5aed){if(_0x5d5aed===_0x3021('0x22')||_0x5d5aed==='op'){return!![];}if(_0x5d5aed==='voice1'){if(v1_images_permission){return!![];}}else if(_0x5d5aed===_0x3021('0x44')){if(v2_images_permission){return!![];}}else if(_0x5d5aed===_0x3021('0x46')){if(v3_images_permission){return!![];}}else if(_0x5d5aed===_0x3021('0x45')){if(v4_images_permission){return!![];}}return![];}function check_tv_permission(_0x40a275){if(_0x40a275===_0x3021('0x22')||_0x40a275==='op'){return!![];}if(_0x40a275==='voice1'){if(v1_tv_permission){return!![];}}else if(_0x40a275===_0x3021('0x44')){if(v2_tv_permission){return!![];}}else if(_0x40a275==='voice3'){if(v3_tv_permission){return!![];}}else if(_0x40a275==='voice4'){if(v4_tv_permission){return!![];}}return![];}function check_radio_permission(_0x4c68a6){if(_0x4c68a6===_0x3021('0x22')||_0x4c68a6==='op'){return!![];}if(_0x4c68a6===_0x3021('0x47')){if(v1_radio_permission){return!![];}}else if(_0x4c68a6===_0x3021('0x44')){if(v2_radio_permission){return!![];}}else if(_0x4c68a6===_0x3021('0x46')){if(v3_radio_permission){return!![];}}else if(_0x4c68a6===_0x3021('0x45')){if(v4_radio_permission){return!![];}}return![];}function show_role(_0x47bdb1){if(role==='admin'){chat_announce('[',']',_0x3021('0x48'),_0x3021('0x20'));}else if(role==='op'){chat_announce('[',']',_0x3021('0x49'),'small');}else if(role===_0x3021('0x4a')){chat_announce('[',']',_0x3021('0x4b'),_0x3021('0x20'));}if(role===_0x3021('0x22')||role==='op'){show_chat_permission();show_upload_permission();show_radio_permission();show_tv_permission();}else{var _0x5e7296=0x0;if(can_chat){chat_announce('[',']',_0x3021('0x4c'),_0x3021('0x20'));_0x5e7296+=0x1;}if(can_images){chat_announce('[',']',_0x3021('0x4d'),_0x3021('0x20'));_0x5e7296+=0x1;}if(can_radio){chat_announce('[',']',_0x3021('0x4e'),'small');_0x5e7296+=0x1;}if(can_tv){chat_announce('[',']',_0x3021('0x4f'),_0x3021('0x20'));_0x5e7296+=0x1;}if(_0x5e7296===0x0){chat_announce('[',']',_0x3021('0x50'),_0x3021('0x20'));}}}function show_username(){chat_announce('[',']',_0x3021('0x51')+username,_0x3021('0x20'));}function socket_emit(_0x519d88,_0x42ab0c){console['log']('Emit:\x20'+_0x519d88);socket[_0x3021('0x52')](_0x519d88,_0x42ab0c);}function start_socket(){socket=io('/');socket['on']('connect',function(){if(connections>0x0){refresh();return;}socket_emit('join_room',{'room_id':room_id,'user_id':user_id,'token':jwt_token});});socket['on'](_0x3021('0x53'),function(_0x15790a){if(_0x15790a[_0x3021('0x54')]==='chat_msg'){update_chat(_0x15790a['username'],_0x15790a[_0x3021('0x55')],_0x15790a[_0x3021('0x56')]);}if(_0x15790a[_0x3021('0x54')]===_0x3021('0x57')){connections+=0x1;room_name=_0x15790a[_0x3021('0x58')];username=_0x15790a['username'];claimed=_0x15790a['claimed'];setup_profile_image(_0x15790a[_0x3021('0x56')]);userlist=_0x15790a['userlist'];update_userlist();log_enabled=_0x15790a[_0x3021('0x59')];log_messages=_0x15790a[_0x3021('0x5a')];setup_default_theme(_0x15790a);set_default_theme();set_background_image();setup_active_media(_0x15790a);check_role(_0x15790a);set_topic_info(_0x15790a);update_title();is_public=_0x15790a[_0x3021('0x5b')];setup_userinfo();clear_chat();check_firstime();get_input_history();setup_image(_0x15790a);setup_tv(_0x15790a);setup_radio(_0x15790a);make_main_container_visible();start_heartbeat();started=!![];}if(_0x15790a[_0x3021('0x54')]===_0x3021('0x5c')){announce_new_username(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x5d')){chat_announce(_0x3021('0x5e'),_0x3021('0x5e'),_0x15790a[_0x3021('0x55')],_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x5f')){refresh();}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x60')){queue_image(_0x15790a);announce_uploaded_image(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x61')){profile_image_changed(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x62')){userjoin(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x63')){update_roomlist(_0x15790a[_0x3021('0x63')]);show_roomlist();}else if(_0x15790a['type']==='upload_error'){show_upload_error();}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x64')){announce_topic_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x65')){announce_room_name_change(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x66')){announce_log_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x67')){announce_log_cleared(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x68')){announce_voice(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x69')){announce_op(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]==='announce_admin'){announce_admin(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x6a')){announce_voices_resetted(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x6b')){announce_removedops(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x6c')){announce_unban_all(_0x15790a);}else if(_0x15790a['type']==='announce_unban_last'){announce_unban_last(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x6d')){receive_banned_count(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x6e')){chat_announce('[',']',_0x3021('0x6f'),_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]==='nothingtoclear'){chat_announce('[',']',_0x3021('0x70'),_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]==='listbans'){show_listbans(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x71')){forbiddenuser();}else if(_0x15790a[_0x3021('0x54')]==='noopstoremove'){chat_announce('[',']','There\x20were\x20no\x20ops\x20to\x20remove',_0x3021('0x20'));}else if(_0x15790a['type']===_0x3021('0x72')){chat_announce('[',']',_0x3021('0x73'),_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x74')){isalready(_0x15790a[_0x3021('0x75')],_0x15790a['what']);}else if(_0x15790a[_0x3021('0x54')]==='announce_claim'){announce_claim(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x76')){announce_unclaim(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x77')){announce_privacy_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]==='changed_radio_source'){announce_radio_source_change(_0x15790a);setup_radio(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x78')){announce_tv_source_change(_0x15790a);setup_tv(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x79')){reserved(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x7a')){unreserved(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x7b')){chat_announce('[',']',username+'\x20is\x20already\x20reserved',_0x3021('0x20'));}else if(_0x15790a['type']===_0x3021('0x7c')){chat_announce('[',']',_0x3021('0x7d'),'small');}else if(_0x15790a[_0x3021('0x54')]==='songnotfound'){chat_announce('[',']',_0x3021('0x7e'),_0x3021('0x20'));}else if(_0x15790a['type']===_0x3021('0x7f')){chat_announce('[',']',_0x3021('0x80'),_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x81')){show_open_room(_0x15790a['id']);}else if(_0x15790a['type']===_0x3021('0x82')){goto_url(_0x15790a['location']);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x83')){username_changed(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x84')){chat_announce('[',']',_0x3021('0x85'),_0x3021('0x20'));}else if(_0x15790a[_0x3021('0x54')]==='password_changed'){password_changed(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x86')){email_changed(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]==='show_details'){show_details(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x87')){announce_room_images_enabled_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x88')){announce_room_tv_enabled_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x89')){announce_room_radio_enabled_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x8a')){announce_default_theme_change(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x8b')){announce_default_background_image_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x8c')){announce_default_background_image_enabled_change(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x8d')){announce_voice_permission_change(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x8e')){disconnected(_0x15790a);}else if(_0x15790a[_0x3021('0x54')]===_0x3021('0x8f')){pinged(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x90')){kicked(_0x15790a);}else if(_0x15790a['type']===_0x3021('0x91')){banned(_0x15790a);}});socket['on'](_0x3021('0x92'),_0x1cccd4=>{var _0x2a4b52=_0x1cccd4[_0x3021('0x93')]*upload_slice_size;var _0x5db4ae=files[_0x1cccd4['date']];var _0x1943d1=_0x5db4ae[_0x3021('0x94')](_0x2a4b52,_0x2a4b52+Math[_0x3021('0x95')](upload_slice_size,_0x5db4ae[_0x3021('0x96')]-_0x2a4b52));_0x5db4ae[_0x3021('0x97')][_0x3021('0x98')](_0x1943d1);var _0x16d38c=Math[_0x3021('0x99')](upload_slice_size*_0x1cccd4[_0x3021('0x93')]/_0x5db4ae[_0x3021('0x96')]*0x64);$(_0x3021('0x9a')+_0x5db4ae['date'])['find'](_0x3021('0x9b'))['eq'](0x0)[_0x3021('0x9c')]('Uploading:\x20'+_0x16d38c+'%');});socket['on'](_0x3021('0x9d'),_0x489f15=>{$(_0x3021('0x9a')+_0x489f15[_0x3021('0x9e')])['find']('.announcement_content')['eq'](0x0)[_0x3021('0x9c')]('Uploading:\x20100%');delete files[_0x489f15[_0x3021('0x9e')]];});}function start_heartbeat(){setInterval(function(){if(!socket[_0x3021('0x9f')]){refresh();}socket_emit('heartbeat',{});},heartbeat_interval);}function setup_radio(_0x3c7df8){if(!_0x3c7df8){_0x3c7df8={};_0x3c7df8[_0x3021('0xa0')]='';_0x3c7df8[_0x3021('0xa1')]='';_0x3c7df8['radio_date']=0x0;}if(_0x3c7df8[_0x3021('0xa0')]===''){radio_source=default_radio_source;}else{radio_source=_0x3c7df8[_0x3021('0xa0')];}radio_type=_0x3c7df8['radio_type'];radio_title=_0x3c7df8['radio_title'];radio_setter=_0x3c7df8['radio_setter'];radio_date=nice_date(_0x3c7df8[_0x3021('0xa2')]);if(radio_type===_0x3021('0xa3')){if(radio_source[_0x3021('0x94')](-0x1)==='/'){radio_metadata=radio_source[_0x3021('0x94')](0x0,-0x1)[_0x3021('0xa4')]('/')[_0x3021('0x94')](0x0,-0x1)[_0x3021('0xa5')]('/')+_0x3021('0xa6');}else{radio_metadata=radio_source[_0x3021('0xa4')]('/')['slice'](0x0,-0x1)[_0x3021('0xa5')]('/')+'/status-json.xsl';}get_metadata=!![];no_meta_count=0x0;get_radio_metadata();if(youtube_player!==undefined){youtube_player[_0x3021('0xa7')]();}}else if(_0x3c7df8['radio_type']===_0x3021('0xa8')){get_metadata=![];push_played(![],{'s1':radio_title,'s2':radio_source});$('#audio')['attr']('src','');}change(_0x3021('0xa3'));}function setup_tv(_0x4b8f56){if(!_0x4b8f56){_0x4b8f56={};_0x4b8f56[_0x3021('0xa9')]='';_0x4b8f56[_0x3021('0xaa')]='';_0x4b8f56[_0x3021('0xab')]=0x0;}if(_0x4b8f56['tv_source']===''){tv_source=default_tv_source;tv_type=default_tv_type;}else{tv_source=_0x4b8f56[_0x3021('0xa9')];tv_type=_0x4b8f56[_0x3021('0xac')];}tv_title=_0x4b8f56['tv_title'];tv_setter=_0x4b8f56[_0x3021('0xaa')];tv_date=nice_date(_0x4b8f56[_0x3021('0xab')]);change('tv');}function stop_videos(){if(youtube_video_player!==undefined){youtube_video_player[_0x3021('0xad')]();}if(twitch_video_player!==undefined){twitch_video_player[_0x3021('0xae')]();}$(_0x3021('0xaf'))[0x0][_0x3021('0xae')]();}function show_youtube_video(){stop_videos();var _0x3847c4=get_youtube_id(tv_source);if(_0x3847c4[0x0]==='video'){youtube_video_player[_0x3021('0xb0')]({'videoId':_0x3847c4[0x1],'startSeconds':get_youtube_time(tv_source)});}else if(_0x3847c4[0x0]==='list'){youtube_video_player[_0x3021('0xb1')]({'list':_0x3847c4[0x1]});}else{return![];}$('#media_video')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0xb2'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0xb3'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'));youtube_video_player[_0x3021('0xb5')]();fix_video_frame(_0x3021('0xb6'));after_media_show();}function show_twitch_video(){stop_videos();var _0x5645b2=get_twitch_id(tv_source);if(_0x5645b2[0x0]===_0x3021('0xb7')){twitch_video_player['setVideoSource'](tv_source);}else if(_0x5645b2[0x0]===_0x3021('0xb8')){twitch_video_player[_0x3021('0xb9')](_0x5645b2[0x1]);}else{return![];}$('#media_video')[_0x3021('0x5')]('display','none');$(_0x3021('0xb3'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0xb2'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'));twitch_video_player[_0x3021('0xba')]();fix_video_frame('media_twitch_video');after_media_show();}function show_video(){stop_videos();$(_0x3021('0xaf'))['prop'](_0x3021('0xbb'),tv_source);$(_0x3021('0xb3'))['css']('display',_0x3021('0x3e'));$('#media_twitch_video_container')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0xaf'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'));$(_0x3021('0xaf'))[0x0]['play']();after_media_show();}function after_media_show(){fix_media_margin();}function setup_default_theme(_0x3ad275){default_theme=_0x3ad275[_0x3021('0xbc')];if(_0x3ad275[_0x3021('0xbd')]!==''){default_background_image=_0x3ad275[_0x3021('0xbd')];}else{default_background_image=default_default_background_image_url;}default_background_image_enabled=_0x3ad275[_0x3021('0xbe')];}function set_default_theme(){var _0x1d6e19=default_theme;var _0x1c2be7=colorlib[_0x3021('0xbf')](_0x1d6e19,color_contrast_amount_1);var _0x4e6a18=colorlib[_0x3021('0xbf')](_0x1d6e19,color_contrast_amount_2);if(settings[_0x3021('0xc0')]){_0x1d6e19=colorlib[_0x3021('0xc1')](_0x1d6e19,general_opacity);_0x1c2be7=colorlib[_0x3021('0xc1')](_0x1c2be7,general_opacity);}change_colors(_0x1d6e19,_0x1c2be7,_0x4e6a18);}function change_colors(_0x29e98d,_0xa1632a,_0x4d68c7){$('.bg1')[_0x3021('0x5')](_0x3021('0xc2'),_0x29e98d);$(_0x3021('0xc3'))['css']('color',_0x4d68c7);$(_0x3021('0xc4'))[_0x3021('0x5')](_0x3021('0xc2'),_0xa1632a);$(_0x3021('0xc4'))[_0x3021('0x5')](_0x3021('0xc5'),_0x4d68c7);}function set_background_image(){$(_0x3021('0xc6'))['css'](_0x3021('0x6'),_0x3021('0xc7')+default_background_image+'\x27)');}function get_youtube_id(_0x2de288){var _0x2fb6f3=![];var _0x1162cf=![];var _0x31359a=_0x2de288['split'](/(vi\/|v%3D|v=|\/v\/|youtu\.be\/|\/embed\/)/);var _0x1161de=undefined!==_0x31359a[0x2]?_0x31359a[0x2][_0x3021('0xa4')](/[^0-9a-z_\-]/i)[0x0]:_0x31359a[0x0];_0x2fb6f3=_0x1161de['length']===0xb?_0x1161de:![];var _0x2f6b79=_0x2de288['match'](/(?:\?|&)(list=[0-9A-Za-z_-]+)/);if(_0x2f6b79){_0x1162cf=_0x2f6b79[0x1][_0x3021('0xc8')](_0x3021('0xc9'),'');}if(_0x1162cf){return[_0x3021('0xca'),_0x1162cf];}else if(_0x2fb6f3){return[_0x3021('0xb7'),_0x2fb6f3];}else{return![];}}function get_twitch_id(_0x4a1ff3){var _0x3e82b0=_0x4a1ff3[_0x3021('0xcb')](/.*twitch\.tv(?:\/videos)?\/(\w+)/);if(_0x3e82b0){if(_0x3e82b0[0x0][_0x3021('0xcc')](_0x3021('0xcd'))!==-0x1){return[_0x3021('0xb7'),_0x3e82b0[0x1]];}else if(_0x3e82b0[0x0]['indexOf'](_0x3021('0xce'))!==-0x1){return![];}else{return['channel',_0x3e82b0[0x1]];}}else{return![];}}function get_youtube_time(_0x5733df){var _0x4760ad=_0x5733df['match'](/[\?|&]t=(\d+h)?(\d+m)?(\d+s)?(\d+)?/);if(_0x4760ad){var _0x437884=![];var _0x157011=![];var _0x2d48ac=![];var _0x5f0ae2=![];var _0x37b541=![];for(var _0x1c9298 of _0x4760ad){if(!_0x437884){_0x437884=!![];continue;}if(_0x1c9298===undefined){continue;}if(_0x1c9298['indexOf']('h')!==-0x1){_0x157011=parseInt(_0x1c9298['replace']('h',''));}else if(_0x1c9298[_0x3021('0xcc')]('m')!==-0x1){_0x2d48ac=parseInt(_0x1c9298['replace']('m',''));}else if(_0x1c9298[_0x3021('0xcc')]('s')!==-0x1){_0x5f0ae2=parseInt(_0x1c9298[_0x3021('0xc8')]('s',''));}else{_0x37b541=parseInt(_0x1c9298);}}var _0x290dfa=0x0;if(_0x157011){_0x290dfa+=_0x157011*0x3c*0x3c;}if(_0x2d48ac){_0x290dfa+=_0x2d48ac*0x3c;}if(_0x5f0ae2){_0x290dfa+=_0x5f0ae2;}if(_0x37b541){_0x290dfa+=_0x37b541;}return _0x290dfa;}else{return 0x0;}}function userjoin(_0x4c88e4){addto_userlist(_0x4c88e4['username'],_0x4c88e4[_0x3021('0x2c')],_0x4c88e4[_0x3021('0x56')]);if(announce_joins&&check_chat_permission(_0x4c88e4[_0x3021('0x2c')])){chat_announce('--','--',_0x4c88e4[_0x3021('0xcf')]+'\x20has\x20joined',_0x3021('0x20'),![],![],![],!![]);alert_title();}sound_notify();}function update_usercount(_0x4bac98){$(_0x3021('0xd0'))[_0x3021('0x11')](singular_or_plural(_0x4bac98,_0x3021('0xd1'))+'\x20Online');}function addto_userlist(_0x470396,_0x1588f4,_0x10fcd6){for(var _0x333276=0x0;_0x333276<userlist[_0x3021('0xd2')];_0x333276++){if(userlist[_0x333276][0x0]===_0x470396){userlist[_0x333276][0x0]=_0x470396;userlist[_0x333276][0x1]=_0x1588f4;userlist[_0x333276][0x2]=_0x10fcd6;update_userlist();return;}}userlist[_0x3021('0xd3')]([_0x470396,_0x1588f4,_0x10fcd6]);update_userlist();}function removefrom_userlist(_0x4689d4){for(var _0x3565c8=0x0;_0x3565c8<userlist['length'];_0x3565c8++){if(userlist[_0x3565c8][0x0]===_0x4689d4){userlist[_0x3021('0xd4')](_0x3565c8,0x1);break;}}update_userlist();}function replace_uname_in_userlist(_0x44b064,_0x216df0){for(var _0x52a84d=0x0;_0x52a84d<userlist['length'];_0x52a84d++){if(userlist[_0x52a84d][0x0]===_0x44b064){userlist[_0x52a84d][0x0]=_0x216df0;break;}}update_userlist();}function replace_role_in_userlist(_0x4eb741,_0x1c0454){for(var _0x15ebf8=0x0;_0x15ebf8<userlist[_0x3021('0xd2')];_0x15ebf8++){if(userlist[_0x15ebf8][0x0]===_0x4eb741){userlist[_0x15ebf8][0x1]=_0x1c0454;break;}}update_userlist();}function get_role(_0x4c5f45){for(var _0x50cdbb=0x0;_0x50cdbb<userlist[_0x3021('0xd2')];_0x50cdbb++){if(userlist[_0x50cdbb][0x0]===_0x4c5f45){return userlist[_0x50cdbb][0x1];}}}function replace_claim_userlist(_0x341d37){for(var _0x43fc55=0x0;_0x43fc55<userlist['length'];_0x43fc55++){if(userlist[_0x43fc55][0x0]===_0x341d37){userlist[_0x43fc55][0x1]=_0x3021('0x22');}else{userlist[_0x43fc55][0x1]='z';}}update_userlist();}function remove_roles_in_userlist(){for(var _0x83d916=0x0;_0x83d916<userlist['length'];_0x83d916++){userlist[_0x83d916][0x1]='z';}update_userlist();}function reset_voices_userlist(){for(var _0x555598=0x0;_0x555598<userlist[_0x3021('0xd2')];_0x555598++){if(userlist[_0x555598][0x1][_0x3021('0xd5')]('voice')&&userlist[_0x555598][0x1]!==_0x3021('0x47')){userlist[_0x555598][0x1]=_0x3021('0x47');}}update_userlist();}function remove_ops_userlist(){for(var _0x2f56c9=0x0;_0x2f56c9<userlist['length'];_0x2f56c9++){if(userlist[_0x2f56c9][0x1]==='op'){userlist[_0x2f56c9][0x1]='z';}}update_userlist();}function role_tag(_0x1e9b25){if(_0x1e9b25===_0x3021('0x22')){var _0x2b2152='[A]';}else if(_0x1e9b25==='op'){var _0x2b2152=_0x3021('0xd6');}else if(_0x1e9b25==='voice1'){var _0x2b2152=_0x3021('0xd7');}else if(_0x1e9b25===_0x3021('0x44')){var _0x2b2152=_0x3021('0xd8');}else if(_0x1e9b25===_0x3021('0x46')){var _0x2b2152=_0x3021('0xd9');}else if(_0x1e9b25===_0x3021('0x45')){var _0x2b2152=_0x3021('0xda');}else{var _0x2b2152='';}return _0x2b2152;}function get_user_by_username(_0x56a4c6){for(var _0x28143f of userlist){if(_0x28143f[0x0]===_0x56a4c6){return _0x28143f;}}return[];}function start_userlist_click_events(){$(_0x3021('0xdb'))['on'](_0x3021('0xdc'),'.ui_item_uname',function(){show_profile($(this)[_0x3021('0x9c')](),get_user_by_username($(this)['text']())[0x2]);});}function update_userlist(){var _0x11c408=$();_0x11c408=_0x11c408[_0x3021('0xdd')]();userlist[_0x3021('0xde')](compare_userlist);usernames=[];for(var _0x44240d=0x0;_0x44240d<userlist[_0x3021('0xd2')];_0x44240d++){var _0x33f854=userlist[_0x44240d];usernames[_0x3021('0xd3')](_0x33f854[0x0]);var _0x4420cc=$(_0x3021('0xdf'));var _0x28b920=role_tag(_0x33f854[0x1]);var _0x2b7711=_0x4420cc[_0x3021('0xe0')]('.ui_item_role')['eq'](0x0);_0x2b7711[_0x3021('0x9c')](_0x28b920);if(_0x28b920===''){_0x2b7711[_0x3021('0x5')](_0x3021('0xe1'),0x0);}_0x4420cc[_0x3021('0xe0')](_0x3021('0xe2'))['eq'](0x0)[_0x3021('0x9c')](_0x33f854[0x0]);_0x11c408=_0x11c408[_0x3021('0xdd')](_0x4420cc);}update_usercount(userlist[_0x3021('0xd2')]);$(_0x3021('0xdb'))[_0x3021('0x11')](_0x11c408);if(userlist_filtered){do_userlist_filter();}update_modal_scrollbar(_0x3021('0xe3'));}function compare_userlist(_0x59b7ed,_0xa2ac00){if(_0x59b7ed[0x1]===''){_0x59b7ed[0x1]='z';}if(_0xa2ac00[0x1]===''){_0xa2ac00[0x1]='z';}if(_0x59b7ed[0x1][_0x3021('0xd5')](_0x3021('0x4a'))&&_0xa2ac00[0x1][_0x3021('0xd5')](_0x3021('0x4a'))){if(_0x59b7ed[0x1]<_0xa2ac00[0x1]){return 0x1;}else if(_0x59b7ed[0x1]>_0xa2ac00[0x1]){return-0x1;}if(_0x59b7ed[0x0]>_0xa2ac00[0x0]){return-0x1;}else if(_0x59b7ed[0x0]<_0xa2ac00[0x0]){return 0x1;}else{return 0x0;}}else{if(_0x59b7ed[0x1]>_0xa2ac00[0x1]){return 0x1;}else if(_0x59b7ed[0x1]<_0xa2ac00[0x1]){return-0x1;}if(_0x59b7ed[0x0]<_0xa2ac00[0x0]){return-0x1;}else if(_0x59b7ed[0x0]>_0xa2ac00[0x0]){return 0x1;}else{return 0x0;}}}function start_username_context_menu(){$['contextMenu']({'selector':_0x3021('0xe4'),'animation':{'duration':0xfa,'hide':_0x3021('0xe5')},'zIndex':0x218711a00,'items':{'cmvoice1':{'name':'Voice\x201','callback':function(_0x16b32a,_0x4cb75e){var _0x5ca4d4=$(this)['text']();voice(_0x5ca4d4,'voice1');},'visible':function(_0x1f26b5,_0x19632e){if(role!=='admin'&&role!=='op'){return![];}else{return!![];}}},'cmvoice2':{'name':'Voice\x202','callback':function(_0x2c1a98,_0x341fa8){var _0x519f3d=$(this)[_0x3021('0x9c')]();voice(_0x519f3d,'voice2');},'visible':function(_0x4ae8fb,_0x7f18d2){if(role!==_0x3021('0x22')&&role!=='op'){return![];}else{return!![];}}},'cmvoice3':{'name':_0x3021('0xe6'),'callback':function(_0x5206b9,_0x294324){var _0xebcfad=$(this)[_0x3021('0x9c')]();voice(_0xebcfad,_0x3021('0x46'));},'visible':function(_0x464dc1,_0x316751){if(role!=='admin'&&role!=='op'){return![];}else{return!![];}}},'cmvoice4':{'name':_0x3021('0xe7'),'callback':function(_0x12ab7d,_0x2ea14d){var _0x27a04f=$(this)[_0x3021('0x9c')]();voice(_0x27a04f,_0x3021('0x45'));},'visible':function(_0x1ec9b0,_0x2539bb){if(role!==_0x3021('0x22')&&role!=='op'){return![];}else{return!![];}}},'cmop':{'name':'Op','visible':function(_0x290a17,_0xc1ca1d){if(role!==_0x3021('0x22')){return![];}else{return!![];}},'items':{'opsure':{'name':_0x3021('0xe8'),'callback':function(_0x3a1a79,_0xee2c35){var _0x8577eb=$(this)[_0x3021('0x9c')]();op(_0x8577eb);}}}},'cmadmin':{'name':_0x3021('0xe9'),'visible':function(_0x5f54d4,_0x1dbf7e){if(role!==_0x3021('0x22')){return![];}else{return!![];}},'items':{'adminsure':{'name':_0x3021('0xe8'),'callback':function(_0x3c7e49,_0x1c51f8){var _0x2afd70=$(this)[_0x3021('0x9c')]();admin(_0x2afd70);}}}},'cmkick':{'name':_0x3021('0xea'),'visible':function(_0x28aeeb,_0x26863d){if(role!=='admin'&&role!=='op'){return![];}else{return!![];}},'items':{'kicksure':{'name':_0x3021('0xe8'),'callback':function(_0x5be2bb,_0x509cc2){var _0x44df93=$(this)[_0x3021('0x9c')]();kick(_0x44df93);}}}},'cmban':{'name':'Ban','visible':function(_0x318076,_0x52bd1b){if(role!==_0x3021('0x22')&&role!=='op'){return![];}else{return!![];}},'items':{'bansure':{'name':'I\x27m\x20Sure','callback':function(_0x4b4db6,_0x384042){var _0x527093=$(this)[_0x3021('0x9c')]();ban(_0x527093);}}}}}});}function start_played_context_menu(){$['contextMenu']({'selector':_0x3021('0xeb'),'animation':{'duration':0xfa,'hide':'fadeOut'},'zIndex':0x218711a00,'items':{'cmenu1':{'name':_0x3021('0xec'),'callback':function(_0x1d10a3,_0x1f64a7){search_on(_0x3021('0xed'),this[_0x3021('0xee')]('q'));}},'cmenu2':{'name':_0x3021('0xef'),'callback':function(_0x17dffc,_0x42c683){search_on(_0x3021('0xf0'),this[_0x3021('0xee')]('q'));}},'cmenu3':{'name':_0x3021('0xf1'),'callback':function(_0xb0752e,_0x5a3a68){search_on(_0x3021('0xa8'),this[_0x3021('0xee')]('q'));}}}});}function start_volume_context_menu(){$['contextMenu']({'selector':_0x3021('0xf2'),'animation':{'duration':0xfa,'hide':_0x3021('0xe5')},'zIndex':0x218711a00,'className':_0x3021('0xf3'),'items':{'vcm100':{'name':_0x3021('0xf4'),'callback':function(_0x35969e,_0x22a237){set_volume(0x1);}},'vcm90':{'name':_0x3021('0xf5'),'callback':function(_0xb7aea9,_0x5a8947){set_volume(0.9);}},'vcm80':{'name':_0x3021('0xf6'),'callback':function(_0x30317a,_0x508d1a){set_volume(0.8);}},'vcm70':{'name':_0x3021('0xf7'),'callback':function(_0x4f38c4,_0x9c2194){set_volume(0.7);}},'vcm60':{'name':_0x3021('0xf8'),'callback':function(_0x523408,_0x4e91b9){set_volume(0.6);}},'vcm50':{'name':'50%','callback':function(_0x6f0bef,_0x3c9f6d){set_volume(0.5);}},'vcm40':{'name':_0x3021('0xf9'),'callback':function(_0x1135c4,_0x3a6c14){set_volume(0.4);}},'vcm30':{'name':_0x3021('0xfa'),'callback':function(_0x5d2d97,_0x2aafe1){set_volume(0.3);}},'vcm20':{'name':_0x3021('0xfb'),'callback':function(_0x382ef7,_0x4bbb56){set_volume(0.2);}},'vcm10':{'name':'10%','callback':function(_0x761798,_0x5f2a42){set_volume(0.1);}},'vcm0':{'name':'0%','callback':function(_0x2809a2,_0x48837b){set_volume(0x0);}}}});}function singular_or_plural(_0x17e39a,_0x13b546){if(_0x17e39a===0x1){var _0x12e2c6=_0x17e39a+'\x20'+_0x13b546[_0x3021('0x24')](0x0,_0x13b546[_0x3021('0xd2')]-0x1);}else{var _0x12e2c6=_0x17e39a+'\x20'+_0x13b546;}return _0x12e2c6;}function request_roomlist(_0x326533=''){roomlist_filter_string=_0x326533;socket_emit(_0x3021('0x63'),{'type':_0x3021('0x5b')});}function request_visited_roomlist(_0x18bed8=''){roomlist_filter_string=_0x18bed8;socket_emit(_0x3021('0x63'),{'type':'visited'});}function start_roomlist_click_events(){$(_0x3021('0xfc'))['on'](_0x3021('0xdc'),'.roomlist_item',function(){show_open_room($(this)['data'](_0x3021('0xfd')));});}function update_roomlist(_0x419392){$('#roomlist_filter')['val'](roomlist_filter_string);var _0xfff1ca=$();_0xfff1ca=_0xfff1ca[_0x3021('0xdd')]();for(var _0x5bfe7e=0x0;_0x5bfe7e<_0x419392[_0x3021('0xd2')];_0x5bfe7e++){var _0x4d5d8c=_0x3021('0xfe');var _0x2201a2=$(_0x3021('0xff')+_0x419392[_0x5bfe7e][0x0]+'\x27>'+_0x4d5d8c+_0x3021('0x100'));_0x2201a2[_0x3021('0xe0')](_0x3021('0x101'))['eq'](0x0)[_0x3021('0x9c')](_0x419392[_0x5bfe7e][0x1]);_0x2201a2[_0x3021('0xe0')](_0x3021('0x102'))['eq'](0x0)[_0x3021('0x9c')](singular_or_plural(_0x419392[_0x5bfe7e][0x3],_0x3021('0x103')));if(_0x419392[_0x5bfe7e][0x0]===room_id){_0x2201a2[_0x3021('0xe0')]('.roomlist_here')['eq'](0x0)[_0x3021('0x9c')]('You\x20are\x20here')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x104'));}if(_0x419392[_0x5bfe7e][0x2][_0x3021('0xd2')]>0x0){var _0x3fbf67=_0x419392[_0x5bfe7e][0x2];}else{var _0x3fbf67=_0x3021('0x105');}_0x2201a2[_0x3021('0xe0')](_0x3021('0x106'))['eq'](0x0)[_0x3021('0x9c')](_0x3fbf67);_0xfff1ca=_0xfff1ca[_0x3021('0xdd')](_0x2201a2);}$('#roomlist')[_0x3021('0x11')](_0xfff1ca);if(roomlist_filter_string!==''){do_roomlist_filter();}update_modal_scrollbar(_0x3021('0x63'));}function setup_main_menu(){$(_0x3021('0x107'))[_0x3021('0x108')](function(){$(this)[_0x3021('0xdc')](function(){var _0x4cce6a=$(this)[_0x3021('0x109')]('.admin_v_container');var _0x27cd96=_0x4cce6a['css'](_0x3021('0x3b'));if(_0x27cd96==='none'){_0x4cce6a['css'](_0x3021('0x3b'),_0x3021('0x41'));$(this)[_0x3021('0x9c')]('-\x20'+$(this)[_0x3021('0x9c')]()[_0x3021('0x24')](0x2));}else{_0x4cce6a['css'](_0x3021('0x3b'),_0x3021('0x3e'));$(this)[_0x3021('0x9c')]('+\x20'+$(this)[_0x3021('0x9c')]()[_0x3021('0x24')](0x2));}update_modal_scrollbar(_0x3021('0x10a'));});});$('.admin_voice_permissions_checkbox')[_0x3021('0x108')](function(){$(this)[_0x3021('0x10b')](function(){var _0x29cbf2=$(this)[_0x3021('0x10c')]('checked');change_voice_permission($(this)['data'](_0x3021('0x10d')),_0x29cbf2);});});$('#admin_enable_images')[_0x3021('0x10b')](function(){var _0x534328=JSON[_0x3021('0x9')]($('#admin_enable_images\x20option:selected')[_0x3021('0x10e')]());change_room_images_enabled(_0x534328);});$(_0x3021('0x10f'))[_0x3021('0x10b')](function(){var _0x272895=JSON[_0x3021('0x9')]($(_0x3021('0x110'))[_0x3021('0x10e')]());change_room_tv_enabled(_0x272895);});$(_0x3021('0x111'))[_0x3021('0x10b')](function(){var _0x3d1f9c=JSON[_0x3021('0x9')]($(_0x3021('0x112'))['val']());change_room_radio_enabled(_0x3d1f9c);});$('#admin_privacy')[_0x3021('0x10b')](function(){var _0x4c2c49=JSON[_0x3021('0x9')]($('#admin_privacy\x20option:selected')['val']());change_privacy(_0x4c2c49);});$(_0x3021('0x113'))[_0x3021('0x10b')](function(){var _0x293286=JSON[_0x3021('0x9')]($(_0x3021('0x114'))[_0x3021('0x10e')]());change_log(_0x293286);});$('#admin_default_theme')['spectrum']({'color':'#B5599A','appendTo':_0x3021('0x115'),'showInput':!![]});$(_0x3021('0x116'))['on'](_0x3021('0x117'),function(_0xe54e09,_0x411fb0){change_default_theme(_0x411fb0['toRgbString']());});$(_0x3021('0x118'))[_0x3021('0x10b')](function(){var _0x2b256b=JSON['parse']($(_0x3021('0x119'))[_0x3021('0x10e')]());change_default_background_image_enabled(_0x2b256b);});$(_0x3021('0x11a'))[0x0][_0x3021('0x11b')](_0x3021('0x11c'),function(){update_modal_scrollbar(_0x3021('0x10a'));});}function show_main_menu(){msg_menu['show'](function(){if(role===_0x3021('0x22')||role==='op'){$(_0x3021('0x11d'))[_0x3021('0x108')](function(){$(this)[_0x3021('0x10c')](_0x3021('0x11e'),window[$(this)['data'](_0x3021('0x10d'))]);});$('#admin_enable_images')['find']('option')['each'](function(){if(JSON[_0x3021('0x9')]($(this)['val']())===room_images_enabled){$(this)[_0x3021('0x10c')]('selected',!![]);}});$('#admin_enable_tv')['find']('option')[_0x3021('0x108')](function(){if(JSON[_0x3021('0x9')]($(this)['val']())===room_tv_enabled){$(this)[_0x3021('0x10c')](_0x3021('0x11f'),!![]);}});$('#admin_enable_radio')[_0x3021('0xe0')](_0x3021('0x120'))['each'](function(){if(JSON[_0x3021('0x9')]($(this)[_0x3021('0x10e')]())===room_radio_enabled){$(this)[_0x3021('0x10c')](_0x3021('0x11f'),!![]);}});$('#admin_privacy')[_0x3021('0xe0')](_0x3021('0x120'))['each'](function(){if(JSON[_0x3021('0x9')]($(this)[_0x3021('0x10e')]())===is_public){$(this)[_0x3021('0x10c')]('selected',!![]);}});$(_0x3021('0x113'))[_0x3021('0xe0')](_0x3021('0x120'))[_0x3021('0x108')](function(){if(JSON[_0x3021('0x9')]($(this)['val']())===log_enabled){$(this)['prop'](_0x3021('0x11f'),!![]);}});$(_0x3021('0x116'))['spectrum'](_0x3021('0x121'),default_theme);$(_0x3021('0x118'))[_0x3021('0xe0')](_0x3021('0x120'))[_0x3021('0x108')](function(){if(JSON[_0x3021('0x9')]($(this)[_0x3021('0x10e')]())===default_background_image_enabled){$(this)[_0x3021('0x10c')]('selected',!![]);}});if(default_background_image!==$(_0x3021('0x11a'))[_0x3021('0x122')](_0x3021('0xbb'))){if(default_background_image!==''){$('#admin_default_background_image')[_0x3021('0x122')](_0x3021('0xbb'),default_background_image);}else{$('#admin_default_background_image')[_0x3021('0x122')]('src',default_default_background_image_url);}}$(_0x3021('0x115'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x104'));}else{$(_0x3021('0x115'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}update_modal_scrollbar(_0x3021('0x10a'));});}function show_create_room(){msg_info[_0x3021('0x1d')](template_create_room(),function(){$(_0x3021('0x123'))['focus']();$(_0x3021('0x124'))['on'](_0x3021('0xdc'),function(){create_room_submit();});crm=!![];});}function create_room_submit(_0x29c22a=![]){var _0x3a74b8={};_0x3a74b8['name']=utilz[_0x3021('0x23')]($(_0x3021('0x123'))[_0x3021('0x10e')]()[_0x3021('0x24')](0x0,max_room_name_length));if(_0x3a74b8['name']===''){return;}_0x3a74b8[_0x3021('0x5b')]=JSON[_0x3021('0x9')]($('#create_room_public\x20option:selected')['val']());create_room(_0x3a74b8);}function show_open_room(_0x352374){msg_info[_0x3021('0x1d')](template_open_room({'id':_0x352374}),function(){orb=!![];});}function show_userlist(_0xa1f71b=![]){msg_userlist[_0x3021('0x1d')](function(){if(_0xa1f71b){$(_0x3021('0x125'))[_0x3021('0x10e')](_0xa1f71b);do_userlist_filter();}});}function show_roomlist(){msg_roomlist['show']();}function show_played(_0x40c169=![]){msg_played[_0x3021('0x1d')](function(){if(_0x40c169){$(_0x3021('0x126'))[_0x3021('0x10e')](_0x40c169);do_played_filter();}});}function start_dropzone(){dropzone=new Dropzone(_0x3021('0x4'),{'url':'/','maxFiles':0x1,'maxFilesize':max_image_size/0x400,'autoProcessQueue':![],'clickable':_0x3021('0x127'),'acceptedFiles':'image/jpeg,image/png,image/gif'});dropzone['on'](_0x3021('0x128'),function(_0x415c30){focus_input();if(!can_images){chat_announce('[',']',_0x3021('0x129'),_0x3021('0x20'));dropzone[_0x3021('0x12a')]=[];return![];}if(dropzone['files'][_0x3021('0xd2')]>0x1){dropzone[_0x3021('0x12a')]=[];return![];}var _0x140b28=_0x415c30[_0x3021('0x96')]/0x400;if(_0x140b28>max_image_size){dropzone[_0x3021('0x12a')]=[];chat_announce('[',']',_0x3021('0x12b'),'small');return![];}var _0x3f8438=_0x415c30['name'];var _0x483385=_0x3f8438[_0x3021('0xa4')]('.')[_0x3021('0x12c')]()[_0x3021('0x12d')]();if(_0x483385!=='jpg'&&_0x483385!==_0x3021('0x12e')&&_0x483385!==_0x3021('0x12f')&&_0x483385!==_0x3021('0x130')){dropzone['files']=[];return![];}dropzone[_0x3021('0x12a')]=[];upload_file(_0x415c30,_0x3021('0x131'));});}function create_file_reader(_0xe57b0f){var _0x18eac2=new FileReader();_0x18eac2[_0x3021('0x11b')](_0x3021('0x132'),function(_0x30a489){socket_emit(_0x3021('0x133'),{'action':_0xe57b0f[_0x3021('0x134')],'name':_0xe57b0f['name'],'type':_0xe57b0f[_0x3021('0x54')],'size':_0xe57b0f['size'],'data':_0x18eac2['result'],'date':_0xe57b0f[_0x3021('0x9e')]});});return _0x18eac2;}function upload_file(_0x229508,_0x414a9f){var _0x49c98d=Date[_0x3021('0x135')]();_0x229508[_0x3021('0x9e')]=_0x49c98d;_0x229508[_0x3021('0x134')]=_0x414a9f;if(_0x229508[_0x3021('0x136')]!==undefined){_0x229508[_0x3021('0x136')]=utilz[_0x3021('0x137')](_0x229508[_0x3021('0x136')])['replace'](/.gifv/g,_0x3021('0x138'));}else{_0x229508['name']=_0x3021('0x139');}_0x229508[_0x3021('0x97')]=create_file_reader(_0x229508);var _0x58a98f=_0x229508[_0x3021('0x94')](0x0,upload_slice_size);files[_0x49c98d]=_0x229508;_0x229508[_0x3021('0x97')][_0x3021('0x98')](_0x58a98f);chat_announce('[',']',_0x3021('0x13a'),_0x3021('0x20'),![],![],![],![],_0x3021('0x13b')+_0x49c98d);}function is_textbox(_0xe962e2){var _0x220cec=_0xe962e2[_0x3021('0x13c')][_0x3021('0x12d')]();if(_0x220cec===_0x3021('0x13d'))return!![];if(_0x220cec!==_0x3021('0x13e'))return![];var _0x4a7138=_0xe962e2[_0x3021('0x13f')](_0x3021('0x54'))[_0x3021('0x12d')](),_0x4ee32a=[_0x3021('0x9c'),'password',_0x3021('0x140'),'email',_0x3021('0x141'),_0x3021('0x142'),_0x3021('0x143'),_0x3021('0x9e'),_0x3021('0x144'),_0x3021('0x145'),_0x3021('0x146'),_0x3021('0x147'),'week'];return _0x4ee32a[_0x3021('0xcc')](_0x4a7138)!==-0x1;}function copypaste_events(){$(document)[_0x3021('0x148')](_0x3021('0x149'),function(_0xb9c411){if(window[_0x3021('0x14a')]()[_0x3021('0x14b')]()!==''){setTimeout(function(){if(is_textbox(document['activeElement'])){se=document[_0x3021('0x14c')]['selectionEnd'];document[_0x3021('0x14c')][_0x3021('0x14d')](se,se);}else{window[_0x3021('0x14a')]()[_0x3021('0x14e')]();focus_input();}},0xc8);}});}function activate_key_detection(){$(document)[_0x3021('0x14f')](function(_0x41b8c4){if(iup){if(_0x41b8c4[_0x3021('0x150')]==='Enter'){var _0x247bd7=$(_0x3021('0x151'))[_0x3021('0x10e')]()[_0x3021('0x152')]();if(_0x247bd7!==''){upload_image_by_url(_0x247bd7);close_all_modals();_0x41b8c4[_0x3021('0x153')]();}}return;}if(rup){if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x154')){var _0x247bd7=$(_0x3021('0x155'))[_0x3021('0x10e')]()[_0x3021('0x152')]();if(_0x247bd7!==''){change_radio_source(_0x247bd7);close_all_modals();_0x41b8c4[_0x3021('0x153')]();}}return;}if(tup){if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x154')){var _0x247bd7=$('#tv_url_picker_input')[_0x3021('0x10e')]()['trim']();if(_0x247bd7!==''){change_tv_source(_0x247bd7);close_all_modals();_0x41b8c4['preventDefault']();}}return;}if(crm){if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x154')){create_room_submit();_0x41b8c4[_0x3021('0x153')]();}return;}if(orb){if(_0x41b8c4[_0x3021('0x150')]==='Enter'){if(_0x41b8c4[_0x3021('0x156')]){$(_0x3021('0x157'))[_0x3021('0x158')](_0x3021('0xdc'));}else{$(_0x3021('0x159'))[_0x3021('0x158')]('click');}}_0x41b8c4['preventDefault']();return;}if(stu){if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x15a')&&_0x41b8c4[_0x3021('0x156')]){close_all_modals();_0x41b8c4['preventDefault']();}return;}if(modal_open){return;}if(_0x41b8c4[_0x3021('0x15b')]){if(window['getSelection']()[_0x3021('0x14b')]()!==''){return;}}focus_input();if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x154')){if(_0x41b8c4[_0x3021('0x156')]){toggle_radio_state();_0x41b8c4[_0x3021('0x153')]();return;}if($(_0x3021('0x15c'))[_0x3021('0x10e')]()[_0x3021('0xd2')]===0x0){goto_bottom(!![]);}else{send_to_chat($('#input')[_0x3021('0x10e')]());}_0x41b8c4[_0x3021('0x153')]();return;}else if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x15d')){if(_0x41b8c4['shiftKey']){scroll_up(small_keyboard_scroll);}else{input_history_change('up');}_0x41b8c4[_0x3021('0x153')]();return;}else if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x15e')){if(_0x41b8c4[_0x3021('0x156')]){scroll_down(small_keyboard_scroll);}else{input_history_change('down');}_0x41b8c4['preventDefault']();return;}else if(_0x41b8c4[_0x3021('0x150')]==='PageUp'){scroll_up(big_keyboard_scroll);_0x41b8c4['preventDefault']();return;}else if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x15f')){scroll_down(big_keyboard_scroll);_0x41b8c4[_0x3021('0x153')]();return;}else if(_0x41b8c4[_0x3021('0x150')]==='Escape'){if(_0x41b8c4[_0x3021('0x156')]){clear_chat();}else{clear_input();reset_input_history_index();}_0x41b8c4[_0x3021('0x153')]();return;}else if(_0x41b8c4[_0x3021('0x150')]===_0x3021('0x15a')){if(_0x41b8c4['shiftKey']){show_status();}if(input[_0x3021('0x160')][_0x3021('0xd2')]>0x0){tabbed();}_0x41b8c4[_0x3021('0x153')]();return;}clear_tabbed();});}function scroll_up(_0x418b48){var _0x102991=$(_0x3021('0x161'));_0x102991[_0x3021('0x162')](_0x102991[_0x3021('0x162')]()-_0x418b48);}function scroll_down(_0x14f68a){var _0x41f23e=$(_0x3021('0x161'));var _0x44b097=_0x41f23e[_0x3021('0x10c')](_0x3021('0x163'))-_0x41f23e['innerHeight']();if(_0x44b097-_0x41f23e[_0x3021('0x162')]<_0x14f68a){_0x41f23e[_0x3021('0x162')](_0x44b097+0xa);}else{_0x41f23e[_0x3021('0x162')](_0x41f23e['scrollTop']()+_0x14f68a);}}function change_input(_0x222ff2,_0x4c47ab=!![],_0x481fd2=!![]){$('#input')['val'](_0x222ff2);if(_0x4c47ab){input_to_end();}if(_0x481fd2){focus_input();}}function focus_input(){$(_0x3021('0x15c'))['focus']();}function blur_input(){$('#input')[_0x3021('0x164')]();}function input_to_end(){$(_0x3021('0x15c'))[0x0][_0x3021('0x165')]=$('#input')[0x0][_0x3021('0x166')];}function add_to_history(_0xbea76d,_0x54334e=!![]){for(var _0x31ac74=0x0;_0x31ac74<input_history['length'];_0x31ac74++){if(input_history[_0x31ac74][0x0]===_0xbea76d){input_history['splice'](_0x31ac74,0x1);break;}}if(input_history[_0x3021('0xd2')]>=input_history_crop_limit){input_history[_0x3021('0xd4')](0x0,input_history[_0x3021('0xd2')]-input_history_crop_limit+0x1);}push_to_input_history([_0xbea76d,nice_date()]);if(_0x54334e){reset_input_history_index();}}function push_to_input_history(_0x12ad6e){input_history[_0x3021('0xd3')](_0x12ad6e);save_local_storage(ls_input_history,input_history);}function get_input_history(){input_history=get_local_storage(ls_input_history);if(input_history===null){input_history=[];}reset_input_history_index();}function reset_input_history_index(){input_history_index=input_history['length'];}function input_history_change(_0x50023a){if(input_history['length']===0x0){return![];}if(input_changed){input_changed=![];var _0x2dfa97=$('#input')['val']()[_0x3021('0x152')]();if(_0x2dfa97!==''){add_to_history(_0x2dfa97,![]);if(_0x50023a==='up'){input_history_index=input_history['length']-0x1;}else{input_history_index=input_history[_0x3021('0xd2')];}}}if(_0x50023a==='up'){input_history_index-=0x1;if(input_history_index===-0x2){input_history_index=input_history[_0x3021('0xd2')]-0x1;}else if(input_history_index===-0x1){$('#input')['val']('');return;}var _0x3bbdc1=input_history[input_history_index][0x0];}else{if(input_history_index<0x0){$(_0x3021('0x15c'))[_0x3021('0x10e')]('');return;}input_history_index+=0x1;if(input_history_index>input_history[_0x3021('0xd2')]-0x1){$(_0x3021('0x15c'))[_0x3021('0x10e')]('');reset_input_history_index();return![];}if(input_history_index>=input_history[_0x3021('0xd2')]){$(_0x3021('0x15c'))[_0x3021('0x10e')]('');reset_input_history_index();return;}var _0x3bbdc1=input_history[input_history_index][0x0];}change_input(_0x3bbdc1);}function show_history(_0x28f637=![]){if(input_history[_0x3021('0xd2')]>0x0){if(_0x28f637){sfilter='value=\x27'+_0x28f637+'\x27';}else{sfilter='';}var _0x55cce7=$(_0x3021('0x167'));var _0x244ff5=$(_0x3021('0x168')+sfilter+'><div\x20class=\x27spacer3\x27></div>');var _0x1e6f0c=$(_0x3021('0x169'));for(var _0x353eb5 of input_history['slice']()['reverse']()){var _0x1a388a=$(_0x3021('0x16a')+_0x353eb5[0x1]+_0x3021('0x16b'));_0x1a388a[_0x3021('0x9c')](_0x353eb5[0x0])['urlize']();_0x1e6f0c[_0x3021('0x16c')](_0x1a388a);}_0x244ff5=_0x244ff5[_0x3021('0xdd')](_0x1e6f0c);_0x55cce7['append'](_0x244ff5);_0x55cce7=_0x55cce7[0x0];msg_info[_0x3021('0x1d')](_0x55cce7,function(){$(_0x3021('0x16d'))['on'](_0x3021('0x13e'),function(){history_filter_timer();});if(_0x28f637){do_history_filter();}$(_0x3021('0x16e'))['on'](_0x3021('0xdc'),'.history_item',function(){if($(this)[_0x3021('0xe0')]('a')[_0x3021('0xd2')]===0x0){change_input($(this)[_0x3021('0x9c')]());close_all_modals();}});});}else{msg_info['show'](_0x3021('0x16f'));}}function input_click_events(){$('#input')['on'](_0x3021('0xdc'),function(){clear_tabbed();});}function clear_tabbed(){tabbed_list=[];tabbed_word='';tabbed_start=0x0;tabbed_end=0x0;}function replaceBetween(_0x33392d,_0x45b133,_0xe7232,_0x2219ce){return _0x33392d[_0x3021('0x24')](0x0,_0x45b133)+_0x2219ce+_0x33392d[_0x3021('0x24')](_0xe7232);}function oiEquals(_0x2ab466,_0x3e7957){return _0x2ab466[_0x3021('0x170')]()===_0x3e7957[_0x3021('0xa4')]('')['sort']()[_0x3021('0xa5')]('');}function oiStartsWith(_0x3f4710,_0x18ee1f){return _0x3f4710[_0x3021('0x170')]()[_0x3021('0xd5')](_0x18ee1f[_0x3021('0xa4')]('')[_0x3021('0xde')]()[_0x3021('0xa5')]('')+'\x20');}function get_closest_username(_0x46f7a6){_0x46f7a6=_0x46f7a6['toLowerCase']();var _0x28ac4b=![];for(var _0x599a9e=0x0;_0x599a9e<usernames['length'];_0x599a9e++){var _0x39e8a7=usernames[_0x599a9e][_0x3021('0x12d')]();if(_0x39e8a7[_0x3021('0xd5')](_0x46f7a6)){_0x28ac4b=!![];if(tabbed_list[_0x3021('0xcc')](_0x39e8a7)===-0x1){tabbed_list[_0x3021('0xd3')](_0x39e8a7);return usernames[_0x599a9e];}}}if(_0x28ac4b){tabbed_list=[];return get_closest_username(_0x46f7a6);}return'';}function get_closest_command(_0xd2a099){_0xd2a099=_0xd2a099[_0x3021('0x12d')]();var _0x239ea0=![];for(var _0x58314e=0x0;_0x58314e<commands['length'];_0x58314e++){var _0x4f024b=commands[_0x58314e];if(_0x4f024b[_0x3021('0xd5')](_0xd2a099)){_0x239ea0=!![];if(tabbed_list[_0x3021('0xcc')](_0x4f024b)===-0x1){tabbed_list[_0x3021('0xd3')](_0x4f024b);return commands[_0x58314e];}}}if(_0x239ea0){tabbed_list=[];return get_closest_command(_0xd2a099);}return'';}function tabbed(){if(tabbed_word!==''){replace_tabbed(tabbed_word);return;}var _0x4818c5=input[_0x3021('0x171')];var _0x15ff45=input[_0x3021('0x160')][_0x3021('0x24')](0x0,_0x4818c5)[_0x3021('0xcb')](/[^ ]*$/)[0x0];var _0x4791c8=input['value'][_0x3021('0x24')](_0x4818c5)[_0x3021('0xcb')](/^[^ ]*/)[0x0];var _0x203963=_0x15ff45+_0x4791c8;tabbed_start=_0x4818c5-_0x15ff45[_0x3021('0xd2')];tabbed_end=_0x4818c5+_0x4791c8[_0x3021('0xd2')];if(_0x203963!==''){tabbed_word=_0x203963;replace_tabbed(_0x203963);}}function replace_tabbed(_0x6d6c56){if(_0x6d6c56[0x0]==='/'){var _0x4dae98=get_closest_command(_0x6d6c56);}else{var _0x4dae98=get_closest_username(_0x6d6c56);}if(_0x4dae98!==''){if(input[_0x3021('0x160')][tabbed_end]==='\x20'){input[_0x3021('0x160')]=replaceBetween(input[_0x3021('0x160')],tabbed_start,tabbed_end,_0x4dae98);}else{input[_0x3021('0x160')]=replaceBetween(input[_0x3021('0x160')],tabbed_start,tabbed_end,_0x4dae98+'\x20');}var _0x137a2d=tabbed_start+_0x4dae98['length'];input['setSelectionRange'](_0x137a2d+0x1,_0x137a2d+0x1);tabbed_start=_0x137a2d-_0x4dae98[_0x3021('0xd2')];tabbed_end=_0x137a2d;}}function scroll_events(){$(_0x3021('0x161'))['scroll'](function(){scroll_timer();});}var scroll_timer=function(){var _0x2d4dd5;return function(){clearTimeout(_0x2d4dd5);_0x2d4dd5=setTimeout(function(){check_scroll_notice();},0xc8);};}();function check_scroll_notice(){var _0x57f250=$(_0x3021('0x161'));var _0x5177c5=_0x57f250[_0x3021('0x10c')](_0x3021('0x163'))-_0x57f250[_0x3021('0x172')]();if(_0x5177c5-_0x57f250[_0x3021('0x162')]()>0x64){$(_0x3021('0x173'))[_0x3021('0x5')](_0x3021('0x174'),_0x3021('0x175'));}else{$(_0x3021('0x173'))[_0x3021('0x5')](_0x3021('0x174'),'hidden');}}function resize_events(){$(window)[_0x3021('0x176')](function(){resize_timer();});}var resize_timer=function(){var _0x73801f;return function(){clearTimeout(_0x73801f);_0x73801f=setTimeout(function(){fix_visible_video_frame();update_chat_scrollbar();goto_bottom(!![]);},0x15e);};}();function setup_scrollbars(){remove_chat_scrollbar();remove_modal_scrollbars();if(settings[_0x3021('0x177')]){start_chat_scrollbar();start_modal_scrollbars();}}function start_chat_scrollbar(){chat_scrollbar=new PerfectScrollbar(_0x3021('0x161'),{'minScrollbarLength':0x32,'suppressScrollX':!![],'scrollingThreshold':0xbb8});}function remove_chat_scrollbar(){if(chat_scrollbar!==undefined){if(chat_scrollbar['element']!==null){chat_scrollbar['destroy']();}}}function update_chat_scrollbar(){if(chat_scrollbar!==undefined){if(chat_scrollbar[_0x3021('0x178')]!==null){chat_scrollbar[_0x3021('0x53')]();}}}function start_modal_scrollbars(){for(var _0x2506d4 of msg_menu[_0x3021('0x179')]()){start_modal_scrollbar(_0x2506d4[_0x3021('0x17a')]['id']);}}function remove_modal_scrollbars(){for(var _0x4e0653 of msg_menu[_0x3021('0x179')]()){remove_modal_scrollbar(_0x4e0653[_0x3021('0x17a')]['id']);}}function start_modal_scrollbar(_0x396bdd){$(_0x3021('0x17b')+_0x396bdd)[_0x3021('0x17c')]({'zindex':0x98967f,'autohidemode':![],'cursorcolor':_0x3021('0x17d'),'cursorborder':_0x3021('0x17e'),'cursorwidth':_0x3021('0x17f')});}function remove_modal_scrollbar(_0x1e5697){$(_0x3021('0x17b')+_0x1e5697)[_0x3021('0x180')]()[_0x3021('0x181')]();}function update_modal_scrollbar(_0x3f61fe){$(_0x3021('0x17b')+_0x3f61fe)['getNiceScroll']()[_0x3021('0x176')]();}function nice_date(_0x4e2f60=Date[_0x3021('0x135')]()){return dateFormat(_0x4e2f60,'dddd,\x20mmmm\x20dS,\x20yyyy,\x20h:MM:ss\x20TT');}function escape_special_characters(_0x23ef1b){return _0x23ef1b[_0x3021('0xc8')](/[^A-Za-z0-9]/g,_0x3021('0x182'));}function start_chat_click_events(){$('#chat_area')['on'](_0x3021('0xdc'),_0x3021('0x183'),function(){change_input('>'+$(this)[_0x3021('0x184')](_0x3021('0x185'))[_0x3021('0xe0')](_0x3021('0x186'))['eq'](0x0)[_0x3021('0x9c')]());});$(_0x3021('0x161'))['on'](_0x3021('0xdc'),_0x3021('0x187'),function(){show_profile($(this)['closest'](_0x3021('0x185'))[_0x3021('0xe0')]('.chat_uname')['eq'](0x0)[_0x3021('0x9c')](),$(this)[_0x3021('0x122')](_0x3021('0xbb')));});}function update_chat(_0x2d9be0,_0x5d0c31,_0x54eade,_0x1546a0=![]){var _0x4daada=_0x3021('0x188');if(_0x2d9be0!==username){var _0x1dafdd=new RegExp('(^|\x5cs+)'+escape_special_characters(username)+_0x3021('0x189'));if(_0x5d0c31['search'](_0x1dafdd)!==-0x1){_0x4daada+='\x20dotted';alert_title2();}}if(_0x1546a0){d=_0x1546a0;}else{d=Date[_0x3021('0x135')]();}var _0x3b5048=nice_date(d);if(_0x54eade===''||_0x54eade===undefined){var _0xc57902=default_profile_image_url;}else{var _0xc57902=_0x54eade;}if(_0x5d0c31[_0x3021('0xd5')](_0x3021('0x18a'))||_0x5d0c31[_0x3021('0xd5')](_0x3021('0x18b'))){var _0x27cc92=$('<div\x20class=\x27msg\x20chat_message\x27>*&nbsp;<span\x20class=\x27chat_uname\x27></span>&nbsp;<span\x20class=\x27'+_0x4daada+_0x3021('0x18c'));_0x27cc92[_0x3021('0xe0')](_0x3021('0x186'))['eq'](0x0)[_0x3021('0x9c')](_0x5d0c31[_0x3021('0x18d')](0x4))['urlize']();}else{var _0x30bde7=_0x3021('0x18e')+_0xc57902+_0x3021('0x18f')+d+_0x3021('0x190')+_0x3b5048+_0x3021('0x191')+_0x4daada+_0x3021('0x190')+_0x3b5048+_0x3021('0x192');var _0x27cc92=$(_0x30bde7);_0x27cc92[_0x3021('0xe0')](_0x3021('0x186'))['eq'](0x0)[_0x3021('0x9c')](_0x5d0c31)['urlize']();}_0x27cc92[_0x3021('0xe0')](_0x3021('0x183'))['eq'](0x0)[_0x3021('0x9c')](_0x2d9be0);time_ago[_0x3021('0x193')](_0x27cc92[_0x3021('0xe0')](_0x3021('0x194'))['eq'](0x0),_0x3021('0x195'));add_to_chat(_0x27cc92);push_to_chat_history(_0x27cc92);goto_bottom();alert_title();sound_notify();}function add_to_chat(_0x277c1f){var _0x2ebd41=$(_0x3021('0x161'));if(document['hidden']){if($(_0x3021('0x196'))['length']===0x0&&(started||connections>0x1)){_0x2ebd41['append']('<div\x20class=\x27msg\x20dash_container\x27><hr\x20class=\x27dash\x27></div>');}}_0x2ebd41[_0x3021('0x16c')](_0x277c1f);if($('.msg')[_0x3021('0xd2')]>chat_crop_limit){$(_0x3021('0x197'))['eq'](0x0)['remove']();scroll_timer();}update_chat_scrollbar();}function push_to_chat_history(_0x6401ba){chat_history[_0x3021('0xd3')](_0x6401ba[_0x3021('0x198')](!![],!![]));if(chat_history[_0x3021('0xd2')]>chat_crop_limit){chat_history['shift']();}}function change(_0x558313){if(_0x558313===_0x3021('0x199')){if(last_image_change===image_url){return![];}}else if(_0x558313==='tv'){if(last_tv_change===tv_source){return![];}}else if(_0x558313==='radio'){if(last_radio_change===radio_source){return![];}}if(afk&&_0x558313!==_0x3021('0xa3')){change_when_focused=!![];if(_0x558313===_0x3021('0x199')){change_image_when_focused=!![];}if(_0x558313==='tv'){change_tv_when_focused=!![];}return![];}if(_0x558313===_0x3021('0x199')){if(!room_images_enabled||!settings[_0x3021('0x19a')]){return![];}show_image();last_image_change=image_url;}else if(_0x558313==='tv'){if(!room_tv_enabled||!settings[_0x3021('0x19b')]){return![];}if(tv_type===_0x3021('0xa8')){if(youtube_video_player===undefined){return![];}show_youtube_video();}else if(tv_type===_0x3021('0x19c')){if(twitch_video_player===undefined){return![];}show_twitch_video();}else if(tv_type===_0x3021('0x142')){show_video();}else{return![];}last_tv_change=tv_source;}else if(_0x558313==='radio'){if(!room_radio_enabled||!settings[_0x3021('0x19d')]||!radio_started){return![];}start_radio();last_radio_change=radio_source;}else{return![];}alert_title();sound_notify();}function show_image(){if($(_0x3021('0x19e'))[_0x3021('0x122')]('src')!==image_url){$(_0x3021('0x19e'))[_0x3021('0x122')](_0x3021('0xbb'),image_url);}else{after_image_load($(_0x3021('0x19e'))[0x0]);}}function show_current_image_modal(){show_modal_image(current_image_url,current_image_title);}function start_image_events(){$('#media_image')[0x0]['addEventListener']('load',function(_0x2359d){after_image_load(_0x2359d[_0x3021('0x19f')]);});$(_0x3021('0x1a0'))[0x0][_0x3021('0x11b')](_0x3021('0x11c'),function(){emit_pasted($('#test_image')['attr'](_0x3021('0xbb')));});$(_0x3021('0x1a0'))['on']('error',function(){chat_announce('[',']',_0x3021('0x1a1'),_0x3021('0x20'));});}function after_image_load(_0x18e4a4){current_image_url=image_url;current_image_title=image_title;$(_0x18e4a4)[_0x3021('0x10c')](_0x3021('0x1a2'),image_title);}function get_size_string(_0x44c51c){return parseFloat(_0x44c51c/0x400)['toFixed'](0x2)+'\x20MB';}function setup_image(_0x242980){if(_0x242980['image_url']===''||_0x242980[_0x3021('0x1a3')]===undefined){image_url=default_image_url;image_title='';}else{image_url=_0x242980['image_url'];if(_0x242980[_0x3021('0x1a4')]===_0x3021('0x1a5')){image_title=_0x3021('0x1a6')+_0x242980[_0x3021('0x1a7')]+_0x3021('0x2b')+nice_date(_0x242980['image_date']);}else{image_title=_0x3021('0x1a8')+_0x242980['image_uploader']+_0x3021('0x1a9')+get_size_string(_0x242980[_0x3021('0x1aa')])+_0x3021('0x2b')+nice_date(_0x242980['image_date']);}}image_uploader=_0x242980['image_uploader'];image_size=_0x242980['image_size'];image_date=nice_date(_0x242980['image_date']);image_type=_0x242980[_0x3021('0x1a4')];change(_0x3021('0x199'));}function chat_announce(_0x49f896,_0x2c558c,_0x547bbf,_0x121132,_0x153413=![],_0x1406ec=![],_0x18cecc=![],_0x3971ae=![],_0x41e195=![]){var _0x421ea5=_0x3021('0x1ab');if(_0x18cecc){_0x421ea5+='\x20pointer';}var _0x3444a1='\x20';if(_0x41e195){_0x3444a1=_0x3021('0x1ac')+_0x41e195+'\x27\x20';}var _0x12ebf0='announcement_content';if(_0x153413===!![]){_0x12ebf0+=_0x3021('0x1ad');alert_title2();}if(_0x1406ec){var _0x1b2b56=''+_0x1406ec;}else{var _0x1b2b56=nice_date();}if(_0x49f896!==''){var _0x54d53f=_0x49f896+_0x3021('0x1ae');}else{_0x54d53f='';}if(_0x2c558c!==''){var _0x1d14c2='&nbsp;'+_0x2c558c;}else{var _0x1d14c2='';}if(typeof _0x153413===_0x3021('0x1af')){var _0x5b268f=$(_0x3021('0x1b0')+_0x3444a1+_0x3021('0x1b1')+_0x121132+_0x3021('0x1b2')+_0x421ea5+'\x27\x20title=\x27'+_0x1b2b56+'\x27>'+_0x54d53f+_0x3021('0x1b3')+_0x12ebf0+_0x3021('0x1b4')+_0x1d14c2+'</span></div>');_0x5b268f[_0x3021('0xe0')](_0x3021('0x1b5'))['eq'](0x0)[_0x3021('0x9c')](_0x153413)[_0x3021('0x1b6')]();}else{var _0x5b268f=$(_0x3021('0x1b0')+_0x3444a1+_0x3021('0x1b1')+_0x121132+_0x3021('0x1b2')+_0x421ea5+_0x3021('0x190')+_0x1b2b56+'\x27>'+_0x54d53f+_0x3021('0x1b3')+_0x12ebf0+_0x3021('0x1b7')+_0x1d14c2+_0x3021('0x1b8'));}var _0x1e97fa=_0x5b268f[_0x3021('0xe0')](_0x3021('0x9b'))['eq'](0x0);_0x1e97fa[_0x3021('0x9c')](_0x547bbf)[_0x3021('0x1b6')]();_0x1e97fa[_0x3021('0x1b9')]()['on']('click',_0x18cecc);add_to_chat(_0x5b268f);if(_0x3971ae){push_to_chat_history(_0x5b268f);}goto_bottom();}jQuery['fn'][_0x3021('0x1b6')]=function(){if(this[_0x3021('0xd2')]>0x0){this[_0x3021('0x108')](function(_0x1d216a,_0x5869ed){var _0x17e4e7=$(_0x5869ed)['html']();var _0x1883db=_0x17e4e7['match'](/((?:https?(?::\/\/))(?:www\.)?[a-zA-Z0-9-_.]+(?:\.[a-zA-Z0-9]{2,})(?:[-a-zA-Z0-9:%_+.~#?&\/\/=@;]*))/g);if(_0x1883db){for(var _0x42d7a4=0x0;_0x42d7a4<_0x1883db[_0x3021('0xd2')];_0x42d7a4++){_0x17e4e7=_0x17e4e7[_0x3021('0xc8')](_0x1883db[_0x42d7a4],_0x3021('0x1ba')+_0x1883db[_0x42d7a4]+'\x27>'+_0x1883db[_0x42d7a4]+_0x3021('0x1bb'));}}$(_0x5869ed)[_0x3021('0x11')](_0x17e4e7);});}};function urlize(_0x4269d7,_0x1095a1=_0x3021('0x1bc')){return _0x4269d7[_0x3021('0xc8')](/((?:https?(?::\/\/))(?:www\.)?[a-zA-Z0-9-_.]+(?:\.[a-zA-Z0-9]{2,})(?:[-a-zA-Z0-9:%_+.~#?&\/\/=@;]*))/g,_0x3021('0x1bd')+_0x1095a1+_0x3021('0x1be'));}function msg_is_ok(_0x2d14c3){if(_0x2d14c3['length']>0x0&&_0x2d14c3[_0x3021('0xd2')]<=max_input_length){return!![];}else{return![];}}function register_commands(){commands['push'](_0x3021('0x1bf'));commands[_0x3021('0xd3')]('/clear');commands['push'](_0x3021('0x1c0'));commands['push'](_0x3021('0x1c1'));commands[_0x3021('0xd3')](_0x3021('0x1c2'));commands[_0x3021('0xd3')]('/unclaim');commands[_0x3021('0xd3')](_0x3021('0x1c3'));commands[_0x3021('0xd3')]('/disableimages');commands[_0x3021('0xd3')](_0x3021('0x1c4'));commands['push']('/disabletv');commands[_0x3021('0xd3')](_0x3021('0x1c5'));commands['push'](_0x3021('0x1c6'));commands[_0x3021('0xd3')](_0x3021('0x1c7'));commands[_0x3021('0xd3')](_0x3021('0x1c8'));commands[_0x3021('0xd3')](_0x3021('0x1c9'));commands[_0x3021('0xd3')](_0x3021('0x1ca'));commands[_0x3021('0xd3')](_0x3021('0x1cb'));commands[_0x3021('0xd3')](_0x3021('0x1cc'));commands['push'](_0x3021('0x1cd'));commands[_0x3021('0xd3')](_0x3021('0x1ce'));commands['push']('/role');commands[_0x3021('0xd3')](_0x3021('0x1cf'));commands[_0x3021('0xd3')](_0x3021('0x1d0'));commands[_0x3021('0xd3')](_0x3021('0x1d1'));commands[_0x3021('0xd3')](_0x3021('0x1d2'));commands[_0x3021('0xd3')](_0x3021('0x1d3'));commands[_0x3021('0xd3')](_0x3021('0x1d4'));commands[_0x3021('0xd3')](_0x3021('0x1d5'));commands[_0x3021('0xd3')]('/removeops');commands[_0x3021('0xd3')](_0x3021('0x1d6'));commands[_0x3021('0xd3')](_0x3021('0x1d7'));commands['push'](_0x3021('0x1d8'));commands['push'](_0x3021('0x1d9'));commands[_0x3021('0xd3')](_0x3021('0x1da'));commands['push'](_0x3021('0x1db'));commands[_0x3021('0xd3')](_0x3021('0x1dc'));commands['push'](_0x3021('0x1dd'));commands[_0x3021('0xd3')](_0x3021('0x1de'));commands[_0x3021('0xd3')](_0x3021('0x1df'));commands[_0x3021('0xd3')](_0x3021('0x1e0'));commands[_0x3021('0xd3')]('/radio');commands[_0x3021('0xd3')](_0x3021('0x1e1'));commands[_0x3021('0xd3')]('/image');commands['push']('/privacy');commands[_0x3021('0xd3')]('/status');commands['push'](_0x3021('0x1e2'));commands[_0x3021('0xd3')]('/topic');commands[_0x3021('0xd3')](_0x3021('0x1e3'));commands['push'](_0x3021('0x1e4'));commands[_0x3021('0xd3')](_0x3021('0x1e5'));commands[_0x3021('0xd3')](_0x3021('0x1e6'));commands[_0x3021('0xd3')](_0x3021('0x1e7'));commands[_0x3021('0xd3')](_0x3021('0x1e8'));commands[_0x3021('0xd3')]('/help2');commands['push'](_0x3021('0x1e9'));commands[_0x3021('0xd3')](_0x3021('0x1ea'));commands[_0x3021('0xd3')](_0x3021('0x1eb'));commands[_0x3021('0xd3')](_0x3021('0x1ec'));commands[_0x3021('0xd3')](_0x3021('0x1ed'));commands['push']('/logout');commands[_0x3021('0xd3')](_0x3021('0x1ee'));commands['push'](_0x3021('0x1ef'));commands[_0x3021('0xd3')]('/changepassword');commands['push'](_0x3021('0x1f0'));commands[_0x3021('0xd3')](_0x3021('0x1f1'));commands[_0x3021('0xde')]();}function send_to_chat(_0x4972b2){_0x4972b2=utilz[_0x3021('0x23')](_0x4972b2[_0x3021('0x24')](0x0,max_input_length));if(msg_is_ok(_0x4972b2)){add_to_history(_0x4972b2);if(_0x4972b2[0x0]==='/'&&!_0x4972b2[_0x3021('0xd5')](_0x3021('0x18a'))&&!_0x4972b2[_0x3021('0xd5')](_0x3021('0x18b'))&&!_0x4972b2[_0x3021('0xd5')]('//')){var _0x2390fd=_0x4972b2['toLowerCase']()['split']('\x20');var _0x516fe6=_0x2390fd[0x0]['split']('')[_0x3021('0xde')]()[_0x3021('0xa5')]('');if(_0x2390fd[_0x3021('0xd2')]>0x1){_0x516fe6+='\x20';var _0x1366d3=_0x4972b2['substring'](_0x516fe6[_0x3021('0xd2')]);}if(oiEquals(_0x516fe6,_0x3021('0x1f2'))){clear_chat();}else if(oiEquals(_0x516fe6,_0x3021('0x1c0'))){unclear_chat();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1c1'))){claim_room(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1c1'))){claim_room();}else if(oiEquals(_0x516fe6,_0x3021('0x1c2'))){reclaim_room();}else if(oiEquals(_0x516fe6,'/unclaim')){unclaim_room();}else if(oiEquals(_0x516fe6,_0x3021('0x1c3'))){change_room_images_enabled(!![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1f3'))){change_room_images_enabled(![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1c5'))){change_room_radio_enabled(!![]);}else if(oiEquals(_0x516fe6,'/disableradio')){change_room_radio_enabled(![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1c4'))){change_room_tv_enabled(!![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1f4'))){change_room_tv_enabled(![]);}else if(oiEquals(_0x516fe6,'/users')){show_userlist();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1c7'))){show_userlist(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1c9'))){request_roomlist();}else if(oiStartsWith(_0x516fe6,'/rooms')){request_roomlist(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1ca'))){request_visited_roomlist();}else if(oiStartsWith(_0x516fe6,'/visited')){request_visited_roomlist(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1cb'))){show_room();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1cb'))){change_room_name(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1cc'))){room_name_edit();return;}else if(oiEquals(_0x516fe6,_0x3021('0x1cd'))){show_played();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1cd'))){show_played(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1ce'))){chat_search();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1ce'))){chat_search(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1f5'))){show_role();}else if(oiStartsWith(_0x516fe6,'/voice1')){voice(_0x1366d3,_0x3021('0x47'));}else if(oiStartsWith(_0x516fe6,_0x3021('0x1d0'))){voice(_0x1366d3,_0x3021('0x44'));}else if(oiStartsWith(_0x516fe6,_0x3021('0x1d1'))){voice(_0x1366d3,_0x3021('0x46'));}else if(oiStartsWith(_0x516fe6,_0x3021('0x1d2'))){voice(_0x1366d3,'voice4');}else if(oiStartsWith(_0x516fe6,_0x3021('0x1d3'))){op(_0x1366d3);}else if(oiStartsWith(_0x516fe6,'/admin')){admin(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1d5'))){reset_voices();}else if(oiEquals(_0x516fe6,_0x3021('0x1f6'))){remove_ops();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1d6'))){ban(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1d7'))){unban_all();}else if(oiEquals(_0x516fe6,_0x3021('0x1d8'))){unban_last();}else if(oiEquals(_0x516fe6,'/bannedcount')){get_banned_count();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1da'))){kick(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1db'))){change_privacy(!![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1dc'))){change_privacy(![]);}else if(oiEquals(_0x516fe6,_0x3021('0x1dd'))){show_log();}else if(oiEquals(_0x516fe6,_0x3021('0x1de'))){change_log(!![]);}else if(oiEquals(_0x516fe6,'/disablelog')){change_log(![]);}else if(oiEquals(_0x516fe6,'/clearlog')){clear_log();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1f7'))){change_radio_source(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1f7'))){show_radio_source();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1e1'))){change_tv_source(_0x1366d3);}else if(oiStartsWith(_0x516fe6,_0x3021('0x1f8'))){upload_image_by_url(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1f9'))){show_status();}else if(oiEquals(_0x516fe6,_0x3021('0x1e2'))){show_userinfo();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1fa'))){change_topic(_0x1366d3);}else if(oiStartsWith(_0x516fe6,'/topicadd')){topicadd(_0x1366d3);}else if(oiStartsWith(_0x516fe6,_0x3021('0x1e4'))){topictrim(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1e4'))){topictrim(0x1);}else if(oiStartsWith(_0x516fe6,_0x3021('0x1e5'))){topicstart(_0x1366d3);}else if(oiStartsWith(_0x516fe6,_0x3021('0x1e6'))){topictrimstart(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1e6'))){topictrimstart(0x1);}else if(oiEquals(_0x516fe6,'/topicedit')){topicedit();return;}else if(oiEquals(_0x516fe6,_0x3021('0x1fa'))){show_topic();}else if(oiEquals(_0x516fe6,_0x3021('0x1c8'))){show_room();}else if(oiEquals(_0x516fe6,_0x3021('0x1e8'))){help3();}else if(oiEquals(_0x516fe6,_0x3021('0x1fb'))){help2();}else if(oiEquals(_0x516fe6,_0x3021('0x1e9'))||oiEquals(_0x516fe6,'/help1')){help();}else if(oiEquals(_0x516fe6,'/stopradio')){stop_radio();}else if(oiEquals(_0x516fe6,_0x3021('0x1eb'))){start_radio();}else if(oiStartsWith(_0x516fe6,'/volume')){change_volume_command(_0x1366d3);}else if(oiEquals(_0x516fe6,'/history')){show_history();}else if(oiStartsWith(_0x516fe6,_0x3021('0x1ed'))){show_history(_0x1366d3);}else if(oiStartsWith(_0x516fe6,'/changeusername')){change_username(_0x1366d3);}else if(oiStartsWith(_0x516fe6,'/changepassword')){change_password(_0x1366d3);}else if(oiStartsWith(_0x516fe6,_0x3021('0x1f0'))){change_email(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1ee'))){request_details(_0x1366d3);}else if(oiEquals(_0x516fe6,'/logout')){logout(_0x1366d3);}else if(oiEquals(_0x516fe6,_0x3021('0x1f1'))){fill();}else{chat_announce('[',']',_0x3021('0x1fc'),_0x3021('0x20'));}}else{if(_0x4972b2[_0x3021('0xd5')]('//')){_0x4972b2=_0x4972b2['slice'](0x1);}if(can_chat){update_chat(username,_0x4972b2,profile_image);socket_emit(_0x3021('0x1fd'),{'msg':_0x4972b2});}else{chat_announce('[',']',_0x3021('0x1fe'),_0x3021('0x20'));}}}clear_input();}function change_topic(_0x43f463){if(role===_0x3021('0x22')||role==='op'){_0x43f463=utilz[_0x3021('0x23')](_0x43f463[_0x3021('0x24')](0x0,max_topic_length));if(_0x43f463[_0x3021('0xd2')]>0x0){if(topic!==_0x43f463){socket_emit('change_topic',{'topic':_0x43f463});}else{chat_announce('[',']',_0x3021('0x1ff'),'small');}}}else{not_an_op();}}function topicadd(_0x886187){if(role===_0x3021('0x22')||role==='op'){_0x886187=utilz[_0x3021('0x23')](_0x886187);if(_0x886187[_0x3021('0xd2')]===0x0){return;}var _0x20dd93=topic+topic_separator+_0x886187;if(_0x20dd93[_0x3021('0xd2')]>max_topic_length){chat_announce('[',']',_0x3021('0x200'),_0x3021('0x20'));return;}change_topic(_0x20dd93);}else{not_an_op();}}function topictrim(_0x2a9f43){if(role==='admin'||role==='op'){var _0x515651=topic[_0x3021('0xa4')](topic_separator);if(_0x515651[_0x3021('0xd2')]>0x1){if(!isNaN(_0x2a9f43)){if(_0x2a9f43<0x1){return![];}if(_0x2a9f43>_0x515651[_0x3021('0xd2')]-0x1){_0x2a9f43=_0x515651[_0x3021('0xd2')]-0x1;}}else{chat_announce('[',']','Argument\x20must\x20be\x20a\x20number',_0x3021('0x20'));return![];}if(_0x515651['length']>0x1){var _0x5bebdf=_0x515651[_0x3021('0x94')](0x0,-_0x2a9f43)['join'](topic_separator);if(_0x5bebdf[_0x3021('0xd2')]>0x0){change_topic(_0x5bebdf);}}}else{chat_announce('[',']','Nothing\x20to\x20trim',_0x3021('0x20'));}}else{not_an_op();}}function topicstart(_0x354d06){if(role===_0x3021('0x22')||role==='op'){_0x354d06=utilz[_0x3021('0x23')](_0x354d06);if(_0x354d06[_0x3021('0xd2')]===0x0){return;}var _0x1e6e16=_0x354d06+topic_separator+topic;if(_0x1e6e16[_0x3021('0xd2')]>max_topic_length){chat_announce('[',']',_0x3021('0x200'),_0x3021('0x20'));return;}change_topic(_0x1e6e16);}else{not_an_op();}}function topictrimstart(_0x388536){if(role===_0x3021('0x22')||role==='op'){var _0x2dcd40=topic['split'](topic_separator);if(_0x2dcd40['length']>0x1){if(!isNaN(_0x388536)){if(_0x388536<0x1){return![];}if(_0x388536>_0x2dcd40[_0x3021('0xd2')]-0x1){_0x388536=_0x2dcd40['length']-0x1;}}else{chat_announce('[',']','Argument\x20must\x20be\x20a\x20number',_0x3021('0x20'));return![];}if(_0x2dcd40[_0x3021('0xd2')]>0x1){var _0x1b7b75=_0x2dcd40[_0x3021('0x94')](_0x388536,_0x2dcd40[_0x3021('0xd2')])['join'](topic_separator);if(_0x1b7b75['length']>0x0){change_topic(_0x1b7b75);}}}else{chat_announce('[',']',_0x3021('0x201'),'small');}}else{not_an_op();}}function topicedit(){change_input(_0x3021('0x202')+topic);}function announce_topic_change(_0x5ccd35){if(_0x5ccd35['topic']!==topic){var _0x8223b2=![];if(_0x5ccd35[_0x3021('0x203')]!==username){var _0xfa4411=new RegExp(_0x3021('0x204')+escape_special_characters(username)+_0x3021('0x189'));if(_0x5ccd35[_0x3021('0x205')][_0x3021('0x143')](_0xfa4411)!==-0x1){_0x8223b2=!![];}}chat_announce('~','~',_0x5ccd35[_0x3021('0x203')]+_0x3021('0x206')+_0x5ccd35[_0x3021('0x205')],_0x3021('0x20'),_0x8223b2);set_topic_info(_0x5ccd35);update_title();}}function announce_room_name_change(_0xd336f4){if(_0xd336f4['name']!==room_name){chat_announce('~','~',_0xd336f4[_0x3021('0xcf')]+'\x20changed\x20the\x20room\x20name\x20to:\x20'+_0xd336f4['name'],'small');room_name=_0xd336f4[_0x3021('0x136')];update_title();}}function announce_new_username(_0xae34b0){replace_uname_in_userlist(_0xae34b0[_0x3021('0x207')],_0xae34b0[_0x3021('0xcf')]);var _0x58b253=check_chat_permission(get_role(_0xae34b0[_0x3021('0xcf')]));if(username===_0xae34b0['old_username']){username=_0xae34b0[_0x3021('0xcf')];if(_0x58b253){chat_announce('~','~',_0xae34b0[_0x3021('0x207')]+_0x3021('0x208')+username,_0x3021('0x20'));}else{chat_announce('[',']',_0x3021('0x209')+username,_0x3021('0x20'));}}else{if(_0x58b253){chat_announce('~','~',_0xae34b0['old_username']+'\x20is\x20now\x20known\x20as\x20'+_0xae34b0['username'],_0x3021('0x20'));}}}function goto_bottom(_0x3362d1=![]){var _0xa0913d=$('#chat_area');var _0x10e715=_0xa0913d['prop'](_0x3021('0x163'))-_0xa0913d[_0x3021('0x172')]();if(_0x3362d1){_0xa0913d[_0x3021('0x162')](_0x10e715+0xa);$(_0x3021('0x173'))[_0x3021('0x5')](_0x3021('0x174'),'hidden');}else{if($(_0x3021('0x173'))[_0x3021('0x5')](_0x3021('0x174'))==='hidden'){_0xa0913d['scrollTop'](_0x10e715+0xa);}}}function emit_pasted(_0x8d8e5f){socket_emit(_0x3021('0x20a'),{'image_url':_0x8d8e5f});}function get_radio_metadata(){if(!settings[_0x3021('0x19d')]||!get_metadata||radio_type!==_0x3021('0xa3')){return;}try{$[_0x3021('0x20b')](radio_metadata,{},function(_0x199b0c){if(!settings[_0x3021('0x19d')]||!get_metadata||radio_type!=='radio'){return;}try{if(Array[_0x3021('0x20c')](_0x199b0c[_0x3021('0x20d')][_0x3021('0x20e')])){for(var _0xb9adfa=0x0;_0xb9adfa<_0x199b0c[_0x3021('0x20d')][_0x3021('0x20e')][_0x3021('0xd2')];_0xb9adfa++){var _0x5cd35b=_0x199b0c[_0x3021('0x20d')][_0x3021('0x20e')][_0xb9adfa];if(_0x5cd35b['listenurl'][_0x3021('0xcc')](radio_source[_0x3021('0xa4')]('/')[_0x3021('0x12c')]())!==-0x1){break;}}}else if(_0x199b0c[_0x3021('0x20d')][_0x3021('0x20e')][_0x3021('0x20f')][_0x3021('0xcc')](radio_source[_0x3021('0xa4')]('/')[_0x3021('0x12c')]())!==-0x1){var _0x5cd35b=_0x199b0c[_0x3021('0x20d')][_0x3021('0x20e')];}else{show_playing_file();return![];}if(_0x5cd35b===undefined||_0x5cd35b[_0x3021('0x210')]===undefined||_0x5cd35b['title']===undefined){show_playing_file();return![];}push_played({'title':_0x5cd35b[_0x3021('0x1a2')],'artist':_0x5cd35b['artist']});}catch(_0x211fa4){show_playing_file();return![];}})[_0x3021('0x211')](function(_0x349ffe,_0x28ed1a){show_playing_file();});}catch(_0x581ef4){show_playing_file();}}function show_playing_file(){get_metadata=![];var _0x516803=radio_source[_0x3021('0xa4')]('/');if(_0x516803[_0x3021('0xd2')]>0x1){push_played(![],{'s1':_0x516803[_0x3021('0x12c')](),'s2':radio_source});}else{hide_now_playing();}}function start_played_click_events(){$(_0x3021('0x212'))['on'](_0x3021('0xdc'),_0x3021('0x213'),function(){if($(this)['data']('q2')!==''){goto_url($(this)[_0x3021('0xee')]('q2'),_0x3021('0x214'));}else{search_on(_0x3021('0xed'),$(this)[_0x3021('0xee')]('q'));}});}function push_played(_0x17aed1,_0x666360=![]){if(_0x17aed1){var _0x267186=_0x17aed1['title']+'\x20-\x20'+_0x17aed1['artist'];var _0x364493='\x22'+_0x17aed1['title']+_0x3021('0x215')+_0x17aed1[_0x3021('0x210')]+'\x22';var _0xd324ec='';}else{var _0x267186=_0x666360['s1'];var _0x364493=_0x666360['s1'];var _0xd324ec=_0x666360['s2'];}if($('#now_playing')[_0x3021('0x9c')]()===_0x267186){return;}$(_0x3021('0x216'))[_0x3021('0x9c')](_0x267186);$(_0x3021('0x217'))['data']('q',_0x364493);update_chat_scrollbar();goto_bottom();if(played[played[_0x3021('0xd2')]-0x1]!==_0x267186){var _0x2a7162=nice_date();var _0xfa959f=_0x3021('0x218');h=$(_0x3021('0x16a')+_0x2a7162+'\x27\x20class=\x27played_item\x27>'+_0xfa959f+_0x3021('0x100'));if(_0x17aed1){h[_0x3021('0xe0')]('.pititle')['eq'](0x0)[_0x3021('0x9c')](_0x17aed1[_0x3021('0x1a2')]);h[_0x3021('0xe0')](_0x3021('0x219'))['eq'](0x0)['text'](_0x3021('0x21a')+_0x17aed1[_0x3021('0x210')]);}else{h['find'](_0x3021('0x21b'))['eq'](0x0)[_0x3021('0x9c')](_0x666360['s1']);h['find'](_0x3021('0x219'))['eq'](0x0)['text'](''+_0x666360['s2']);}h[_0x3021('0xee')]('q',_0x364493);h['data']('q2',_0xd324ec);$('#played')['prepend'](h);played[_0x3021('0xd3')](_0x267186);if(played[_0x3021('0xd2')]>played_crop_limit){var _0x1d01ed=$('#played')['children']();_0x1d01ed[_0x3021('0x94')](_0x1d01ed[_0x3021('0xd2')]-0x1,_0x1d01ed[_0x3021('0xd2')])['remove']();played[_0x3021('0xd4')](0x0,0x1);}if(played_filtered){do_played_filter();}update_modal_scrollbar(_0x3021('0x21c'));}show_now_playing();}function hide_now_playing(){$(_0x3021('0x21d'))['css']('display',_0x3021('0x3e'));}function show_now_playing(){$(_0x3021('0x21d'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3d'));}function start_radio(){if(radio_type===_0x3021('0xa3')){if(radio_source){$(_0x3021('0x21e'))[_0x3021('0x122')](_0x3021('0xbb'),radio_source);}else{$(_0x3021('0x21e'))[_0x3021('0x122')](_0x3021('0xbb'),default_radio_source);}}else if(radio_type===_0x3021('0xa8')){if(youtube_player!==undefined){var _0x97e59e=get_youtube_id(radio_source);if(_0x97e59e[0x0]===_0x3021('0xb7')){youtube_player['loadVideoById']({'videoId':_0x97e59e[0x1],'startSeconds':get_youtube_time(radio_source)});}else if(_0x97e59e[0x0]===_0x3021('0xca')){youtube_player[_0x3021('0xb1')]({'list':_0x97e59e[0x1]});}else{return![];}youtube_player['setVolume'](get_nice_volume($('#audio')[0x0][_0x3021('0x21f')]));}else{return![];}}$(_0x3021('0x220'))[_0x3021('0x5')]('display',_0x3021('0x3d'));$(_0x3021('0x221'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3d'));$(_0x3021('0x222'))[_0x3021('0x11')](_0x3021('0x223'));radio_started=!![];}function stop_radio(){$('#audio')[_0x3021('0x122')](_0x3021('0xbb'),'');if(youtube_player!==undefined){youtube_player[_0x3021('0xa7')]();}$(_0x3021('0x220'))['css'](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0x221'))['css'](_0x3021('0x3b'),_0x3021('0x3e'));$(_0x3021('0x222'))['html'](_0x3021('0x224'));radio_started=![];}function toggle_radio_state(){if(radio_started){stop_radio();}else{start_radio();}}function start_metadata_loop(){setInterval(function(){if(settings['radio_enabled']&&radio_type==='radio'){if(get_metadata){get_radio_metadata();}else{no_meta_count+=0x1;if(no_meta_count>max_no_meta_count){get_metadata=!![];no_meta_count=0x0;}}}},check_metadata_interval_duration);}function start_volume_scroll(){document[_0x3021('0x225')](_0x3021('0x226'))[_0x3021('0x11b')](_0x3021('0x227'),function(_0x5859eb){var _0x1f648c=_0x5859eb['deltaY']>0x0?_0x3021('0x228'):'up';if(_0x1f648c==='up'){volume_increase();}else if(_0x1f648c===_0x3021('0x228')){volume_decrease();}});}function set_volume(_0x3a8b2c,_0x41a25e=!![]){var _0x52b5e4=parseInt(Math['round'](_0x3a8b2c*0x64));$('#audio')[0x0][_0x3021('0x21f')]=_0x3a8b2c;if(youtube_player!==undefined){youtube_player['setVolume'](_0x52b5e4);}$(_0x3021('0x229'))[_0x3021('0x9c')](_0x52b5e4+'\x20%');if(_0x41a25e){save_local_storage(_0x3021('0x21f'),_0x3a8b2c);}}function volume_increase(){var _0x1ad2fb=$('#audio')[0x0];var _0x5a2ad5=_0x1ad2fb[_0x3021('0x21f')]+0.1;if(_0x5a2ad5>0x1){_0x5a2ad5=0x1;}set_volume(_0x5a2ad5);}function volume_decrease(){var _0x4cb010=$(_0x3021('0x21e'))[0x0];var _0xd5c6af=_0x4cb010[_0x3021('0x21f')]-0.1;if(_0xd5c6af<0x0){_0xd5c6af=0x0;}set_volume(_0xd5c6af);}function change_volume_command(_0x52415b){if(isNaN(_0x52415b)){chat_announce('[',']',_0x3021('0x22a'),_0x3021('0x20'));return![];}else{var _0x23639e=Math[_0x3021('0x22b')](_0x52415b/0xa)*0xa;if(_0x23639e>0x64){_0x23639e=0x64;}if(_0x23639e<0x0){_0x23639e=0x0;}_0x23639e=_0x23639e/0x64;set_volume(_0x23639e);}}function alert_title(){if(!started){return![];}alert_timer=setTimeout(function(){if(document[_0x3021('0x22c')]){if(alert_mode===0x0){alert_mode=0x1;update_title();}}},0x3e8);}function alert_title2(){if(!started){return![];}alert_timer=setTimeout(function(){if(document[_0x3021('0x22c')]){if(alert_mode!==0x2){alert_mode=0x2;update_title();}}},0x3e8);}function remove_alert_title(){if(alert_mode>0x0){alert_mode=0x0;update_title();}}function set_title(_0x450419){document[_0x3021('0x1a2')]=_0x450419[_0x3021('0x24')](0x0,max_title_length);}function update_title(){var _0x4bbf24='';if(alert_mode===0x1){_0x4bbf24+=_0x3021('0x22d');}else if(alert_mode===0x2){_0x4bbf24+=_0x3021('0x22e');}_0x4bbf24+=room_name;if(topic!==''){_0x4bbf24+='\x20'+title_separator+'\x20'+topic;}set_title(_0x4bbf24);}function activate_window_visibility_listener(){document[_0x3021('0x11b')](_0x3021('0x22f'),function(){if(!document[_0x3021('0x22c')]){if(afk_timer!==undefined){clearTimeout(afk_timer);}if(alert_timer!==undefined){clearTimeout(alert_timer);}afk=![];remove_alert_title();if(change_when_focused){if(change_image_when_focused){change('image');}if(change_tv_when_focused){change('tv');}change_image_when_focused=![];change_tv_when_focused=![];}}else{afk_timer=setTimeout(function(){afk=!![];},afk_timeout_duration);$(_0x3021('0x230'))[_0x3021('0x181')]();update_chat_scrollbar();check_scroll_notice();}},![]);}function copy_room_url(){if(room_id===main_room_id){var _0x4b75e6='';}else{var _0x4b75e6=room_name;}var _0x148c02=site_root+_0x4b75e6;_0x148c02=_0x148c02[_0x3021('0xc8')](/\s+/g,_0x3021('0x231'));copy_string(_0x148c02);pup();close_all_modals();}function copy_string(_0xafb43c){var _0x4c63dc=document[_0x3021('0x232')]('textarea');document[_0x3021('0x4')]['appendChild'](_0x4c63dc);_0x4c63dc[_0x3021('0x160')]=_0xafb43c;_0x4c63dc['select']();document[_0x3021('0x233')](_0x3021('0x149'));document[_0x3021('0x4')][_0x3021('0x234')](_0x4c63dc);}function pup(){$(_0x3021('0x235'))[0x0][_0x3021('0xba')]();}function main_menu_events(){$('#main_menu')['mousedown'](function(_0x34f9ff){if(_0x34f9ff[_0x3021('0x236')]==0x2){copy_room_url();}});}function word_generator(_0x1caa52){var _0x439985=_0x3021('0x237');var _0x5517cd='AEIOUY';var _0x6ebfcd=_0x1caa52['length'];var _0x317cf9=new Array(_0x6ebfcd);while(_0x6ebfcd--){_0x317cf9[_0x6ebfcd]=_0x1caa52[_0x6ebfcd][_0x3021('0xc8')](/v/,_0x56528e(_0x5517cd))[_0x3021('0xc8')](/c/,_0x56528e(_0x439985));}function _0x56528e(_0x205159){var _0xe7b1be=_0x205159['charAt'](Math[_0x3021('0x99')](Math[_0x3021('0x238')]()*_0x205159[_0x3021('0xd2')]));return _0xe7b1be;}return _0x317cf9[_0x3021('0xa5')]('')[_0x3021('0x12d')]();}function goto_url(_0x1699b5,_0x5ab1d8=_0x3021('0x239'),_0x2753d0=![]){if(_0x2753d0){_0x1699b5=encodeURIComponent(_0x1699b5);}if(_0x5ab1d8===_0x3021('0x214')){window[_0x3021('0x23a')](_0x1699b5,_0x3021('0x23b'));}else{window[_0x3021('0x23c')]=_0x1699b5;}}function create_room(_0x1f9449){close_all_modals();socket_emit(_0x3021('0x23d'),_0x1f9449);}function refresh(){window[_0x3021('0x23c')]=window[_0x3021('0x23c')];}function get_volume(){var _0x5a32d5=get_local_storage('volume');if(_0x5a32d5==null){set_volume(0.8);save_local_storage(_0x3021('0x21f'),0.8);}else{set_volume(_0x5a32d5,![]);}return[_0x5a32d5,get_nice_volume(_0x5a32d5)];}function get_nice_volume(_0x4d2f1a){return parseInt(Math[_0x3021('0x22b')](_0x4d2f1a*0x64));}var search_timer=function(){var _0x3f351d;return function(){clearTimeout(_0x3f351d);_0x3f351d=setTimeout(function(){chat_search($('#search_filter')['val']());},0x15e);};}();function create_search_container(){var _0x8f7534=$(_0x3021('0x167'));var _0x157f60=$(_0x3021('0x23e'));var _0x585f23=$(_0x3021('0x23f'));_0x157f60=_0x157f60[_0x3021('0xdd')](_0x585f23);_0x8f7534[_0x3021('0x16c')](_0x157f60);_0x8f7534=_0x8f7534[0x0];msg_info[_0x3021('0x1d')](_0x8f7534,function(){$(_0x3021('0x240'))['on'](_0x3021('0x13e'),function(){search_timer();});});}function chat_search(_0x529760=![]){if($(_0x3021('0x241'))['length']===0x0){create_search_container();}if(_0x529760!==''&&!msg_info['is_open']()){msg_info[_0x3021('0x1d')]();}$(_0x3021('0x240'))[_0x3021('0x242')]();if(_0x529760){sfilter=_0x529760;}else{sfilter='';}$(_0x3021('0x240'))[_0x3021('0x10e')](sfilter);if(!_0x529760){$('#search_container')['html'](_0x3021('0x243'));update_modal_scrollbar(_0x3021('0x244'));return;}_0x529760=_0x529760[_0x3021('0x152')]()[_0x3021('0x12d')]();var _0x347b39=$(_0x3021('0x167'));if(chat_history['length']>0x0){$(chat_history['slice'](0x0)[_0x3021('0x245')]())[_0x3021('0x108')](function(){var _0x2aecc5=![];var _0x2a2f9e=$(this)[_0x3021('0xe0')](_0x3021('0x183'))['eq'](0x0);var _0x83e26a=$(this)[_0x3021('0xe0')](_0x3021('0x186'))['eq'](0x0);if(_0x2a2f9e['length']!==0x0&&_0x83e26a[_0x3021('0xd2')]!==0x0){var _0x2c50dd=_0x2a2f9e[_0x3021('0x9c')]();var _0x3cd141=_0x83e26a['text']();if(_0x2c50dd['toLowerCase']()[_0x3021('0xcc')](_0x529760)!==-0x1){_0x2aecc5=!![];}else if(_0x3cd141['toLowerCase']()[_0x3021('0xcc')](_0x529760)!==-0x1){_0x2aecc5=!![];}if(_0x2aecc5){var _0x37bce1=$(_0x3021('0x246'));_0x37bce1[_0x3021('0xe0')]('.search_result_uname')['eq'](0x0)[_0x3021('0x11')](_0x2a2f9e['clone']());_0x37bce1['find']('.search_result_content')['eq'](0x0)[_0x3021('0x11')](_0x83e26a['clone']());_0x347b39[_0x3021('0x16c')](_0x37bce1);}}else{var _0x83e26a=$(this)['find']('.announcement_content')['eq'](0x0);if(_0x83e26a[_0x3021('0xd2')]===0x0){return!![];}var _0x3cd141=_0x83e26a[_0x3021('0x9c')]();if(_0x3cd141['toLowerCase']()[_0x3021('0xcc')](_0x529760)===-0x1){return!![];}var _0x37bce1=$(_0x3021('0x247'));_0x37bce1[_0x3021('0xe0')](_0x3021('0x248'))['eq'](0x0)[_0x3021('0x11')](_0x83e26a[_0x3021('0x1b9')]()[_0x3021('0x198')](!![],!![]));_0x347b39[_0x3021('0x16c')](_0x37bce1);}});}if(_0x347b39[_0x3021('0xe0')](_0x3021('0x249'))[_0x3021('0xd2')]===0x0){_0x347b39=_0x3021('0x24a');}else{_0x347b39=_0x347b39[0x0];}$(_0x3021('0x241'))['html'](_0x347b39);update_modal_scrollbar(_0x3021('0x244'));$(_0x3021('0x24b'))['scrollTop'](0x0);}function clear_chat(){$(_0x3021('0x161'))[_0x3021('0x11')](_0x3021('0x24c'));show_intro();show_topic(_0x3021('0xf'));show_log_messages();goto_bottom(!![]);focus_input();}function unclear_chat(){clear_chat();for(var _0x159c91 of chat_history){$(_0x3021('0x161'))[_0x3021('0x16c')](_0x159c91[_0x3021('0x198')](!![],!![]));}update_chat_scrollbar();goto_bottom(!![]);}function clear_input(){$(_0x3021('0x15c'))[_0x3021('0x10e')]('');}function add_to_input(_0x172dbd){$(_0x3021('0x15c'))[_0x3021('0x10e')]($('#input')[_0x3021('0x10e')]()+_0x172dbd+'\x20')[_0x3021('0x242')]();}function set_topic_info(_0x4388ea){if(!_0x4388ea){_0x4388ea={};_0x4388ea[_0x3021('0x205')]='';_0x4388ea[_0x3021('0x203')]='';_0x4388ea['topic_date']='';}topic=_0x4388ea[_0x3021('0x205')];topic_setter=_0x4388ea['topic_setter'];topic_date=nice_date(_0x4388ea[_0x3021('0x24d')]);if(topic){$(_0x3021('0x24e'))[_0x3021('0x9c')](topic);$(_0x3021('0x24f'))['attr'](_0x3021('0x1a2'),topic);}else{var _0x36eeb0=get_unset_topic();$(_0x3021('0x24e'))[_0x3021('0x9c')](_0x36eeb0);$(_0x3021('0x24f'))[_0x3021('0x122')](_0x3021('0x1a2'),_0x36eeb0);}}function claim_room(_0x3961e1=''){_0x3961e1=_0x3961e1[_0x3021('0x24')](0x0,0xc8);if(room_id===main_room_id&&_0x3961e1===''){chat_announce('[',']','This\x20room\x20can\x27t\x20be\x20claimed',_0x3021('0x20'));return![];}if(claimed&&_0x3961e1===''){chat_announce('[',']',_0x3021('0x250'),_0x3021('0x20'));return![];}socket_emit(_0x3021('0x251'),{'pass':_0x3961e1});}function reclaim_room(){if(!claimed){chat_announce('[',']','Room\x20hasn\x27t\x20been\x20claimed\x20yet',_0x3021('0x20'));return![];}if(role!==_0x3021('0x22')){chat_announce('[',']',_0x3021('0x252'),'small');return![];}socket_emit(_0x3021('0x251'),{'pass':''});}function unclaim_room(){if(!claimed){chat_announce('[',']',_0x3021('0x253'),'small');return![];}if(role!==_0x3021('0x22')){chat_announce('[',']',_0x3021('0x252'),'small');return![];}socket_emit('unclaim_room',{});}function check_firstime(){if(get_local_storage(_0x3021('0x254'))===null){help();save_local_storage(_0x3021('0x254'),![]);}}function big_letter(_0x3da514){return _0x3da514[_0x3021('0x255')]()[0x0];}function voice(_0x345d26,_0x4b2cff){if(role===_0x3021('0x22')||role==='op'){if(_0x345d26['length']>0x0&&_0x345d26['length']<=max_username_length){if(_0x345d26===username){chat_announce('[',']',_0x3021('0x256'),_0x3021('0x20'));return![];}if(usernames[_0x3021('0xcc')](_0x345d26)===-0x1){chat_announce('[',']','Nobody\x20is\x20using\x20that\x20username',_0x3021('0x20'));return![];}var _0x4db27b=get_role(_0x345d26);if(_0x4db27b===_0x4b2cff){isalready(_0x345d26,_0x4b2cff);return![];}if((_0x4db27b===_0x3021('0x22')||_0x4db27b==='op')&&role!=='admin'){forbiddenuser();return![];}socket_emit(_0x3021('0x4a'),{'username':_0x345d26,'vtype':_0x4b2cff});}}else{not_an_op();}}function show_upload_error(){chat_announce('[',']','The\x20image\x20could\x20not\x20be\x20uploaded','small');}function announce_uploaded_image(_0x43966e,_0x54e821=![]){if(_0x54e821){var _0x5f0bca=nice_date(_0x54e821);}else{var _0x5f0bca=nice_date(_0x43966e[_0x3021('0x257')]);}if(_0x43966e[_0x3021('0x1a4')]===_0x3021('0x1a5')){var _0x5006cd=_0x3021('0x1a6')+_0x43966e[_0x3021('0x1a7')]+_0x3021('0x2b')+_0x5f0bca;var _0x35bf35=_0x43966e[_0x3021('0x1a7')]+_0x3021('0x258');}else{var _0x5006cd=_0x3021('0x1a8')+_0x43966e[_0x3021('0x1a7')]+_0x3021('0x1a9')+get_size_string(_0x43966e[_0x3021('0x1aa')])+_0x3021('0x2b')+_0x5f0bca;var _0x35bf35=_0x43966e[_0x3021('0x1a7')]+_0x3021('0x259');}var _0x174997=function(){show_modal_image(_0x43966e[_0x3021('0x1a3')],_0x5006cd);};chat_announce(_0x3021('0x25a'),'',_0x35bf35,_0x3021('0x20'),![],_0x5006cd,_0x174997,!![]);}function announce_voice(_0x5b3aa6){if(username===_0x5b3aa6['username2']){set_role(_0x5b3aa6[_0x3021('0x25b')]);}chat_announce('~','~',_0x5b3aa6[_0x3021('0x25c')]+_0x3021('0x25d')+_0x5b3aa6[_0x3021('0x25b')]+_0x3021('0x25e')+_0x5b3aa6[_0x3021('0x25f')],'small');replace_role_in_userlist(_0x5b3aa6[_0x3021('0x25f')],_0x5b3aa6[_0x3021('0x25b')]);}function announce_op(_0x26f4eb){if(username===_0x26f4eb[_0x3021('0x25f')]){set_role('op');}chat_announce('~','~',_0x26f4eb[_0x3021('0x25c')]+_0x3021('0x260')+_0x26f4eb[_0x3021('0x25f')],_0x3021('0x20'));replace_role_in_userlist(_0x26f4eb[_0x3021('0x25f')],'op');}function set_role(_0xe02b6a){role=_0xe02b6a;check_permissions();}function announce_claim(_0xf31ede){claimed=!![];if(_0xf31ede[_0x3021('0x261')]){var _0x41693a=_0x3021('0x262')+_0xf31ede[_0x3021('0xcf')]+'.\x20All\x20previous\x20given\x20roles\x20are\x20now\x20invalid';}else{var _0x41693a=_0xf31ede['username']+_0x3021('0x263');}chat_announce('~','~',_0x41693a,_0x3021('0x20'));if(username===_0xf31ede['username']){set_role('admin');}else{set_role(_0x3021('0x47'));}replace_claim_userlist(_0xf31ede[_0x3021('0xcf')]);}function announce_unclaim(_0x25a4b4){chat_announce('~','~',_0x25a4b4['username']+'\x20unclaimed\x20the\x20room',_0x3021('0x20'));claimed=![];set_role(_0x3021('0x47'));upload_permission=0x1;chat_permission=0x1;is_public=!![];set_topic_info(![]);update_title();check_permissions();remove_roles_in_userlist();if(radio_source!=='')if(radio_source!==default_radio_source){setup_radio(![]);}}function announce_admin(_0x20950d){chat_announce('~','~',_0x20950d[_0x3021('0x25c')]+'\x20gave\x20admin\x20to\x20'+_0x20950d['username2'],_0x3021('0x20'));replace_role_in_userlist(_0x20950d[_0x3021('0x25f')],_0x3021('0x22'));}function admin(_0x23fb56){if(role===_0x3021('0x22')){if(_0x23fb56[_0x3021('0xd2')]>0x0&&_0x23fb56[_0x3021('0xd2')]<=max_username_length){if(_0x23fb56===username){chat_announce('[',']',_0x3021('0x264'),'small');return![];}if(usernames['indexOf'](_0x23fb56)===-0x1){chat_announce('[',']',_0x3021('0x265'),'small');return![];}var _0x42af8d=get_role(_0x23fb56);if(_0x42af8d===_0x3021('0x22')){isalready(_0x23fb56,'admin');return![];}socket_emit(_0x3021('0x22'),{'username':_0x23fb56});}}else{chat_announce('[',']',_0x3021('0x252'),_0x3021('0x20'));}}function op(_0x438877){if(role===_0x3021('0x22')){if(_0x438877[_0x3021('0xd2')]>0x0&&_0x438877[_0x3021('0xd2')]<=max_username_length){if(_0x438877===username){chat_announce('[',']',_0x3021('0x266'),_0x3021('0x20'));return![];}if(usernames[_0x3021('0xcc')](_0x438877)===-0x1){chat_announce('[',']',_0x3021('0x265'),_0x3021('0x20'));return![];}var _0x5b36dc=get_role(_0x438877);if(_0x5b36dc==='op'){isalready(_0x438877,'op');return![];}socket_emit('op',{'username':_0x438877});}}else{chat_announce('[',']','You\x20are\x20not\x20a\x20room\x20admin','small');}}function change_privacy(_0x296dd8){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return;}if(is_public===_0x296dd8){if(_0x296dd8){chat_announce('[',']',_0x3021('0x267'),_0x3021('0x20'));}else{chat_announce('[',']',_0x3021('0x268'),_0x3021('0x20'));}}socket_emit(_0x3021('0x269'),{'what':_0x296dd8});}function announce_privacy_change(_0x41d6a6){is_public=_0x41d6a6[_0x3021('0x26a')];if(is_public){var _0x1af937=_0x41d6a6[_0x3021('0xcf')]+_0x3021('0x26b');_0x1af937+=_0x3021('0x26c');}else{var _0x1af937=_0x41d6a6['username']+_0x3021('0x26d');_0x1af937+='.\x20The\x20room\x20will\x20appear\x20in\x20the\x20public\x20room\x20list';}chat_announce('~','~',_0x1af937,_0x3021('0x20'));}function change_radio_source(_0x2b1561){if(can_radio){if(_0x2b1561[_0x3021('0xcc')](_0x3021('0x26e'))!==-0x1||_0x2b1561[_0x3021('0xcc')](_0x3021('0x26f'))!==-0x1||_0x2b1561===_0x3021('0x195')){if(_0x2b1561[_0x3021('0xcc')](_0x3021('0x270'))!==-0x1||_0x2b1561[_0x3021('0xcc')](_0x3021('0x271'))!==-0x1){if(!youtube_enabled){chat_announce('[',']',_0x3021('0x272'),_0x3021('0x20'));return;}}}else{if(!youtube_enabled){chat_announce('[',']','Invalid\x20radio\x20source',_0x3021('0x20'));return;}}_0x2b1561=utilz[_0x3021('0x23')](_0x2b1561);if(_0x2b1561[_0x3021('0xd2')]>0x0&&_0x2b1561['length']<=max_radio_source_length){socket_emit('change_radio_source',{'src':_0x2b1561});}}else{chat_announce('[',']',_0x3021('0x273'),_0x3021('0x20'));}}function announce_radio_source_change(_0x30d2b2,_0x16e9c4=![]){if(_0x30d2b2[_0x3021('0x274')]!==''){var _0x38b9d9=_0x30d2b2['radio_title'];}else if(_0x30d2b2[_0x3021('0xa0')]==''){var _0x38b9d9=_0x3021('0x195');}else{var _0x38b9d9=_0x30d2b2[_0x3021('0xa0')];}if(_0x30d2b2['radio_source']===''){var _0x20aaab=default_radio_source;}else{var _0x20aaab=_0x30d2b2['radio_source'];}if(_0x16e9c4){var _0x29774e=nice_date(_0x16e9c4);}else{var _0x29774e=nice_date(_0x30d2b2[_0x3021('0xa2')]);}var _0x24ee05=_0x3021('0x28')+_0x30d2b2[_0x3021('0xa1')]+_0x3021('0x2b')+_0x29774e;var _0x550800=function(){goto_url(_0x20aaab,'tab');};chat_announce(_0x3021('0x275'),'',_0x30d2b2['radio_setter']+_0x3021('0x276')+_0x38b9d9,_0x3021('0x20'),![],_0x24ee05,_0x550800,!![]);}function change_tv_source(_0xc88b8c){if(can_tv){if(_0xc88b8c[_0x3021('0xcc')](_0x3021('0x26e'))!==-0x1||_0xc88b8c['indexOf']('https://')!==-0x1||_0xc88b8c===_0x3021('0x195')){if(_0xc88b8c[_0x3021('0xcc')](_0x3021('0x270'))!==-0x1||_0xc88b8c['indexOf']('youtu.be')!==-0x1){if(get_youtube_id(_0xc88b8c)&&!youtube_enabled){chat_announce('[',']','YouTube\x20support\x20is\x20not\x20enabled',_0x3021('0x20'));return;}}else if(_0xc88b8c[_0x3021('0xcc')](_0x3021('0x277'))!==-0x1){if(get_twitch_id(_0xc88b8c)&&!twitch_enabled){chat_announce('[',']','Twitch\x20support\x20is\x20not\x20enabled',_0x3021('0x20'));return;}}}else{if(!youtube_enabled){chat_announce('[',']',_0x3021('0x278'),'small');return;}}_0xc88b8c=utilz[_0x3021('0x23')](_0xc88b8c);if(_0xc88b8c['length']>0x0&&_0xc88b8c[_0x3021('0xd2')]<=max_tv_source_length){socket_emit('change_tv_source',{'src':_0xc88b8c});}}else{chat_announce('[',']','You\x20don\x27t\x20have\x20permission\x20to\x20change\x20the\x20tv',_0x3021('0x20'));}}function announce_tv_source_change(_0x3a6628,_0x537b35=![]){if(_0x3a6628[_0x3021('0x279')]!==''){var _0x15a544=_0x3a6628[_0x3021('0x279')];}else{var _0x15a544=_0x3a6628[_0x3021('0xa9')];}if(_0x537b35){var _0x23d467=nice_date(_0x537b35);}else{var _0x23d467=nice_date(_0x3a6628[_0x3021('0xab')]);}var _0x3355e8=_0x3021('0x28')+_0x3a6628['tv_setter']+_0x3021('0x2b')+_0x23d467;var _0x454fbe=function(){goto_url(_0x3a6628[_0x3021('0xa9')],_0x3021('0x214'));};chat_announce(_0x3021('0x27a'),'',_0x3a6628[_0x3021('0xaa')]+_0x3021('0x27b')+_0x15a544,_0x3021('0x20'),![],_0x3355e8,_0x454fbe,!![]);}function ban(_0x2bd7a0){if(role===_0x3021('0x22')||role==='op'){if(_0x2bd7a0[_0x3021('0xd2')]>0x0&&_0x2bd7a0[_0x3021('0xd2')]<=max_username_length){if(_0x2bd7a0===username){chat_announce('[',']','You\x20can\x27t\x20ban\x20yourself',_0x3021('0x20'));return![];}if(usernames[_0x3021('0xcc')](_0x2bd7a0)===-0x1){chat_announce('[',']',_0x3021('0x265'),_0x3021('0x20'));return![];}var _0x5801ac=get_role(_0x2bd7a0);if((_0x5801ac==='admin'||_0x5801ac==='op')&&role!==_0x3021('0x22')){forbiddenuser();return![];}socket_emit('ban',{'username':_0x2bd7a0});}}else{not_an_op();}}function unban_all(){if(role===_0x3021('0x22')||role==='op'){socket_emit(_0x3021('0x27c'),{});}else{not_an_op();}}function unban_last(){if(role===_0x3021('0x22')||role==='op'){socket_emit(_0x3021('0x27d'),{});}else{not_an_op();}}function get_banned_count(){if(role===_0x3021('0x22')||role==='op'){socket_emit('get_banned_count',{});}}function receive_banned_count(_0x3cc9b0){if(_0x3cc9b0[_0x3021('0x27e')]===0x1){var _0x2998fc=_0x3021('0x27f')+_0x3cc9b0[_0x3021('0x27e')]+'\x20user\x20banned';}else{var _0x2998fc=_0x3021('0x280')+_0x3cc9b0[_0x3021('0x27e')]+_0x3021('0x281');}msg_info[_0x3021('0x1d')](_0x2998fc);}function kick(_0x2b31a5){if(role===_0x3021('0x22')||role==='op'){if(_0x2b31a5[_0x3021('0xd2')]>0x0&&_0x2b31a5[_0x3021('0xd2')]<=max_username_length){if(_0x2b31a5===username){chat_announce('[',']',_0x3021('0x282'),_0x3021('0x20'));return![];}if(usernames[_0x3021('0xcc')](_0x2b31a5)===-0x1){chat_announce('[',']','Nobody\x20is\x20using\x20that\x20username','small');return![];}var _0xcfc522=get_role(_0x2b31a5);if((_0xcfc522===_0x3021('0x22')||_0xcfc522==='op')&&role!==_0x3021('0x22')){forbiddenuser();return![];}socket_emit('kick',{'username':_0x2b31a5});}}else{not_an_op();}}function announce_unban_all(_0x28190e){chat_announce('~','~',_0x28190e[_0x3021('0xcf')]+_0x3021('0x283'),_0x3021('0x20'));}function announce_unban_last(_0x46f62e){chat_announce('~','~',_0x46f62e[_0x3021('0xcf')]+_0x3021('0x284'),_0x3021('0x20'));}function isalready(_0x75d8be,_0x4df251){if(_0x4df251===_0x3021('0x47')){chat_announce('[',']',_0x75d8be+_0x3021('0x285'),_0x3021('0x20'));}else if(_0x4df251===_0x3021('0x44')){chat_announce('[',']',_0x75d8be+_0x3021('0x286'),_0x3021('0x20'));}else if(_0x4df251===_0x3021('0x46')){chat_announce('[',']',_0x75d8be+_0x3021('0x287'),'small');}else if(_0x4df251===_0x3021('0x45')){chat_announce('[',']',_0x75d8be+_0x3021('0x288'),_0x3021('0x20'));}else if(_0x4df251==='op'){chat_announce('[',']',_0x75d8be+'\x20is\x20already\x20an\x20op',_0x3021('0x20'));}else if(_0x4df251===_0x3021('0x22')){chat_announce('[',']',_0x75d8be+'\x20is\x20already\x20an\x20admin','small');}else if(_0x4df251===''){chat_announce('[',']',_0x75d8be+_0x3021('0x289'),_0x3021('0x20'));}}function forbiddenuser(){chat_announce('[',']','That\x20operation\x20is\x20forbidden\x20on\x20that\x20user',_0x3021('0x20'));}function search_on(_0x52b83c,_0x119faa){_0x119faa=encodeURIComponent(_0x119faa);if(_0x52b83c==='google'){goto_url('https://www.google.com/search?q='+_0x119faa,'tab');}else if(_0x52b83c===_0x3021('0xf0')){goto_url(_0x3021('0x28a')+_0x119faa,_0x3021('0x214'));}else if(_0x52b83c===_0x3021('0xa8')){goto_url(_0x3021('0x28b')+_0x119faa,_0x3021('0x214'));}}function reset_voices(){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return![];}socket_emit('reset_voices',{});}function remove_ops(){if(role!==_0x3021('0x22')){chat_announce('[',']',_0x3021('0x252'),'small');return![];}socket_emit(_0x3021('0x28c'),{});}function announce_voices_resetted(_0x3840d0){chat_announce('~','~',_0x3840d0[_0x3021('0xcf')]+'\x20resetted\x20the\x20voices',_0x3021('0x20'));if(role[_0x3021('0xd5')](_0x3021('0x4a'))&&role!==_0x3021('0x47')){set_role(_0x3021('0x47'));}reset_voices_userlist();}function announce_removedops(_0x4880c3){chat_announce('~','~',_0x4880c3[_0x3021('0xcf')]+_0x3021('0x28d'),_0x3021('0x20'));if(role==='op'){set_role(_0x3021('0x47'));}remove_ops_userlist();}function disconnected(_0x441341){removefrom_userlist(_0x441341['username']);if(announce_parts&&check_chat_permission(_0x441341['role'])){chat_announce('--','--',_0x441341[_0x3021('0xcf')]+'\x20has\x20left',_0x3021('0x20'),![],![],![],!![]);}}function pinged(_0x5817a6){removefrom_userlist(_0x5817a6[_0x3021('0xcf')]);if(announce_parts&&check_chat_permission(_0x5817a6[_0x3021('0x2c')])){chat_announce('--','--',_0x5817a6[_0x3021('0xcf')]+'\x20has\x20left\x20(Ping\x20Timeout)',_0x3021('0x20'),![],![],![],!![]);}}function kicked(_0x15839e){removefrom_userlist(_0x15839e[_0x3021('0xcf')]);chat_announce('--','--',_0x15839e[_0x3021('0xcf')]+_0x3021('0x28e')+_0x15839e[_0x3021('0x28f')],_0x3021('0x20'),![],![],![],!![]);}function banned(_0x2fbcaf){removefrom_userlist(_0x2fbcaf[_0x3021('0xcf')]);chat_announce('--','--',_0x2fbcaf[_0x3021('0xcf')]+_0x3021('0x290')+_0x2fbcaf['info1'],'small',![],![],![],!![]);}function start_msg(){var _0x2231d9={'class':settings['modal_color'],'show_effect':_0x3021('0x3e'),'close_effect':_0x3021('0x3e'),'clear_editables':!![]};msg_menu=Msg(Object['assign']({},_0x2231d9,{'id':_0x3021('0x10a'),'after_create':function(_0x409958){after_modal_create(_0x409958);},'after_show':function(_0x3e6213){after_modal_show(_0x3e6213);after_modal_set_or_show(_0x3e6213);},'after_set':function(_0x25a660){after_modal_set_or_show(_0x25a660);},'after_close':function(_0x42b507){after_modal_close(_0x42b507);}}));msg_userinfo=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':_0x3021('0x292'),'after_create':function(_0x4bfbbf){after_modal_create(_0x4bfbbf);},'after_show':function(_0x17fd72){after_modal_show(_0x17fd72);after_modal_set_or_show(_0x17fd72);},'after_set':function(_0x4e4faa){after_modal_set_or_show(_0x4e4faa);},'after_close':function(_0x147dea){after_modal_close(_0x147dea);}}));msg_userlist=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':'userlist','after_create':function(_0x1a20af){after_modal_create(_0x1a20af);},'after_show':function(_0x5dc0d3){after_modal_show(_0x5dc0d3);after_modal_set_or_show(_0x5dc0d3);},'after_set':function(_0x12e891){after_modal_set_or_show(_0x12e891);},'after_close':function(_0x15684c){after_modal_close(_0x15684c);reset_userlist_filter();}}));msg_roomlist=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':_0x3021('0x63'),'after_create':function(_0x4dcd28){after_modal_create(_0x4dcd28);},'after_show':function(_0x2b44ef){after_modal_show(_0x2b44ef);after_modal_set_or_show(_0x2b44ef);},'after_set':function(_0x568b45){after_modal_set_or_show(_0x568b45);},'after_close':function(_0x1463f6){after_modal_close(_0x1463f6);}}));msg_played=Msg(Object['assign']({},_0x2231d9,{'id':'played','after_create':function(_0x577619){after_modal_create(_0x577619);},'after_show':function(_0x55c3cc){after_modal_show(_0x55c3cc);after_modal_set_or_show(_0x55c3cc);},'after_set':function(_0x333c80){after_modal_set_or_show(_0x333c80);},'after_close':function(_0x39fcbc){after_modal_close(_0x39fcbc);reset_played_filter();}}));msg_image=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':_0x3021('0x199'),'window_x':'floating_right','after_create':function(_0x598daa){after_modal_create(_0x598daa);},'after_show':function(_0x1dbc68){after_modal_show(_0x1dbc68);after_modal_set_or_show(_0x1dbc68);},'after_set':function(_0xfb8c4e){after_modal_set_or_show(_0xfb8c4e);},'after_close':function(_0x4fdccf){after_modal_close(_0x4fdccf);}}));msg_profile=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':_0x3021('0x293'),'after_create':function(_0x5d3036){after_modal_create(_0x5d3036);},'after_show':function(_0x3fdf47){after_modal_show(_0x3fdf47);after_modal_set_or_show(_0x3fdf47);},'after_set':function(_0x5dc45a){after_modal_set_or_show(_0x5dc45a);},'after_close':function(_0x4a52d0){after_modal_close(_0x4a52d0);}}));msg_info=Msg(Object['assign']({},_0x2231d9,{'id':_0x3021('0x244'),'after_create':function(_0x2c4e16){after_modal_create(_0x2c4e16);},'before_show':function(_0x31daa5){info_vars_to_false();},'after_show':function(_0x187df7){after_modal_show(_0x187df7);after_modal_set_or_show(_0x187df7);},'after_set':function(_0x280f25){after_modal_set_or_show(_0x280f25);},'after_close':function(_0x1921d0){after_modal_close(_0x1921d0);_0x1921d0['content'][_0x3021('0x294')]='';info_vars_to_false();}}));msg_image_picker=Msg(Object[_0x3021('0x291')]({},_0x2231d9,{'id':_0x3021('0x295'),'after_create':function(_0x2acc76){after_modal_create(_0x2acc76);},'after_show':function(_0xe6dfa){after_modal_show(_0xe6dfa);after_modal_set_or_show(_0xe6dfa);},'after_set':function(_0x186f26){after_modal_set_or_show(_0x186f26);},'after_close':function(_0x265a3a){after_modal_close(_0x265a3a);$(_0x3021('0x151'))[_0x3021('0x10e')]('');iup=![];}}));msg_menu[_0x3021('0x121')](template_menu());msg_userinfo[_0x3021('0x121')](template_userinfo());msg_userlist[_0x3021('0x121')](template_userlist());msg_roomlist[_0x3021('0x121')](template_roomlist());msg_played[_0x3021('0x121')](template_played());msg_profile[_0x3021('0x121')](template_profile());msg_image_picker[_0x3021('0x121')](template_image_picker());msg_image[_0x3021('0x296')]();msg_info['create']();}function info_vars_to_false(){crm=![];orb=![];stu=![];rup=![];tup=![];}function after_modal_create(_0x266235){if(settings[_0x3021('0x177')]){start_modal_scrollbar(_0x266235[_0x3021('0x17a')]['id']);}}function after_modal_show(_0x54921f){modal_open=!![];blur_input();}function after_modal_set_or_show(_0x5d3ac7){update_modal_scrollbar(_0x5d3ac7[_0x3021('0x17a')]['id']);setTimeout(function(){_0x5d3ac7[_0x3021('0x297')]['scrollTop']=0x0;},0x64);}function after_modal_close(_0x12667a){if(!msg_menu['any_open']()){modal_open=![];focus_input();}}function change_modal_color(_0xeac34a){for(var _0xcb105 of msg_menu['instances']()){_0xcb105[_0x3021('0x298')](_0xeac34a);}}function close_all_modals(){msg_menu[_0x3021('0x299')]();}function get_settings(){var _0x52506c=![];settings=get_local_storage(ls_settings);if(settings===null){settings={};}if(settings[_0x3021('0xc0')]===undefined){settings[_0x3021('0xc0')]=settings_default_background_image;_0x52506c=!![];}if(settings[_0x3021('0x177')]===undefined){settings[_0x3021('0x177')]=settings_default_custom_scrollbars;_0x52506c=!![];}if(settings[_0x3021('0x29a')]===undefined){settings[_0x3021('0x29a')]=settings_default_modal_color;_0x52506c=!![];}if(settings[_0x3021('0x29b')]===undefined){settings[_0x3021('0x29b')]=settings_default_sound_notifications;_0x52506c=!![];}if(settings[_0x3021('0x19a')]===undefined){settings[_0x3021('0x19a')]=settings_default_images_enabled;_0x52506c=!![];}if(settings[_0x3021('0x19b')]===undefined){settings[_0x3021('0x19b')]=settings_default_tv_enabled;_0x52506c=!![];}if(settings[_0x3021('0x19d')]===undefined){settings[_0x3021('0x19d')]=settings_default_radio_enabled;_0x52506c=!![];}if(_0x52506c){save_settings();}}function save_settings(){save_local_storage(ls_settings,settings);}function start_settings_state(){$(_0x3021('0x29c'))[_0x3021('0x10c')](_0x3021('0x11e'),settings['background_image']);$(_0x3021('0x29d'))[_0x3021('0x10c')](_0x3021('0x11e'),settings[_0x3021('0x177')]);$(_0x3021('0x29e'))[_0x3021('0x10c')](_0x3021('0x11e'),settings[_0x3021('0x29b')]);$('#setting_modal_color')[_0x3021('0xe0')](_0x3021('0x120'))['each'](function(){if($(this)['val']()===settings[_0x3021('0x29a')]){$(this)['prop'](_0x3021('0x11f'),!![]);}});}function start_settings_listeners(){$(_0x3021('0x29c'))[_0x3021('0x10b')](function(){settings['background_image']=$(_0x3021('0x29c'))[_0x3021('0x10c')](_0x3021('0x11e'));set_default_theme();save_settings();});$(_0x3021('0x29d'))[_0x3021('0x10b')](function(){settings[_0x3021('0x177')]=$(_0x3021('0x29d'))[_0x3021('0x10c')](_0x3021('0x11e'));setup_scrollbars();save_settings();});$(_0x3021('0x29f'))[_0x3021('0x10b')](function(){modal_color_changed();});$(_0x3021('0x29e'))[_0x3021('0x10b')](function(){settings[_0x3021('0x29b')]=$(_0x3021('0x29e'))[_0x3021('0x10c')](_0x3021('0x11e'));save_settings();});}var played_filter_timer=function(){var _0x29ced3;return function(){clearTimeout(_0x29ced3);_0x29ced3=setTimeout(function(){do_played_filter();},0x15e);};}();var userlist_filter_timer=function(){var _0x590f9e;return function(){clearTimeout(_0x590f9e);_0x590f9e=setTimeout(function(){do_userlist_filter();},0x15e);};}();var roomlist_filter_timer=function(){var _0x3382dd;return function(){clearTimeout(_0x3382dd);_0x3382dd=setTimeout(function(){do_roomlist_filter();},0x15e);};}();var history_filter_timer=function(){var _0x380251;return function(){clearTimeout(_0x380251);_0x380251=setTimeout(function(){do_history_filter();},0x15e);};}();function start_filters(){$('#played_filter')['on'](_0x3021('0x13e'),function(){played_filter_timer();});$('#userlist_filter')['on']('input',function(){userlist_filter_timer();});$('#roomlist_filter')['on'](_0x3021('0x13e'),function(){roomlist_filter_timer();});}function do_played_filter(){var _0x5370d8=$(_0x3021('0x126'))['val']()[_0x3021('0x152')]()['toLowerCase']();if(_0x5370d8!==''){played_filtered=!![];$('.played_item')[_0x3021('0x108')](function(){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x104'));var _0x1655ad=$(this)[_0x3021('0xe0')](_0x3021('0x21b'))['eq'](0x0)[_0x3021('0x9c')]();var _0x23ee8f=$(this)['find'](_0x3021('0x219'))['eq'](0x0)[_0x3021('0x9c')]();var _0x53ca45=![];if(_0x1655ad[_0x3021('0x12d')]()[_0x3021('0xcc')](_0x5370d8)!==-0x1){_0x53ca45=!![];}else if(_0x23ee8f[_0x3021('0x12d')]()[_0x3021('0xcc')](_0x5370d8)!==-0x1){_0x53ca45=!![];}if(!_0x53ca45){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}});}else{played_filtered=![];$(_0x3021('0x213'))['each'](function(){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x104'));});}update_modal_scrollbar(_0x3021('0x21c'));$(_0x3021('0x2a0'))[_0x3021('0x162')](0x0);}function reset_played_filter(){$('#played_filter')[_0x3021('0x10e')]('');do_played_filter();}function do_userlist_filter(){var _0x2c29f3=$(_0x3021('0x125'))[_0x3021('0x10e')]()[_0x3021('0x152')]()[_0x3021('0x12d')]();if(_0x2c29f3!==''){userlist_filtered=!![];$(_0x3021('0x2a1'))[_0x3021('0x108')](function(){$(this)[_0x3021('0x5')]('display','block');var _0x319dbe=$(this)[_0x3021('0xe0')](_0x3021('0xe2'))['eq'](0x0)[_0x3021('0x9c')]();var _0x596cb8=![];if(_0x319dbe[_0x3021('0x12d')]()[_0x3021('0xcc')](_0x2c29f3)!==-0x1){_0x596cb8=!![];}if(!_0x596cb8){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}});}else{userlist_filtered=![];$(_0x3021('0x2a1'))['each'](function(){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x104'));});}update_modal_scrollbar(_0x3021('0xe3'));$(_0x3021('0x2a2'))[_0x3021('0x162')](0x0);}function do_roomlist_filter(){var _0x5ef570=$(_0x3021('0x2a3'))[_0x3021('0x10e')]()[_0x3021('0x152')]()[_0x3021('0x12d')]();if(_0x5ef570!==''){roomlist_filtered=!![];$(_0x3021('0x2a4'))[_0x3021('0x108')](function(){$(this)[_0x3021('0x5')](_0x3021('0x3b'),'block');var _0x4ca463=$(this)[_0x3021('0xe0')](_0x3021('0x101'))['eq'](0x0)[_0x3021('0x9c')]();var _0xaa16f3=$(this)[_0x3021('0xe0')](_0x3021('0x106'))['eq'](0x0)[_0x3021('0x9c')]();var _0x51b37b=![];if(_0x4ca463['toLowerCase']()[_0x3021('0xcc')](_0x5ef570)!==-0x1){_0x51b37b=!![];}else if(_0xaa16f3[_0x3021('0x12d')]()['indexOf'](_0x5ef570)!==-0x1){_0x51b37b=!![];}if(!_0x51b37b){$(this)[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));}});}else{roomlist_filtered=![];$('.roomlist_item')['each'](function(){$(this)[_0x3021('0x5')](_0x3021('0x3b'),'block');});}update_modal_scrollbar('roomlist');$(_0x3021('0x2a5'))['scrollTop'](0x0);}function reset_userlist_filter(){$(_0x3021('0x125'))[_0x3021('0x10e')]('');do_userlist_filter();}function do_history_filter(){var _0x5aeb4b=$(_0x3021('0x16d'))[_0x3021('0x10e')]()[_0x3021('0x152')]()[_0x3021('0x12d')]();if(_0x5aeb4b!==''){$(_0x3021('0x2a6'))[_0x3021('0x108')](function(){$(this)['css'](_0x3021('0x3b'),_0x3021('0x104'));var _0x2736bf=$(this)[_0x3021('0x9c')]();var _0x545b57=![];if(_0x2736bf[_0x3021('0x12d')]()[_0x3021('0xcc')](_0x5aeb4b[_0x3021('0x12d')]())!==-0x1){_0x545b57=!![];}if(!_0x545b57){$(this)['css']('display',_0x3021('0x3e'));}});}else{$(_0x3021('0x2a6'))[_0x3021('0x108')](function(){$(this)['css'](_0x3021('0x3b'),'block');});}update_modal_scrollbar(_0x3021('0x244'));$(_0x3021('0x24b'))[_0x3021('0x162')](0x0);}function onYouTubeIframeAPIReady(){yt_player=new YT[(_0x3021('0x2a7'))](_0x3021('0x2a8'),{'events':{'onReady':onYouTubePlayerReady},'playerVars':{'iv_load_policy':0x3,'rel':0x0,'width':0x280,'height':0x168}});yt_video_player=new YT[(_0x3021('0x2a7'))](_0x3021('0xb6'),{'events':{'onReady':onYouTubePlayerReady2},'playerVars':{'iv_load_policy':0x3,'rel':0x0,'width':0x280,'height':0x168}});}function onYouTubePlayerReady(){youtube_player=yt_player;if(radio_type===_0x3021('0xa8')){change(_0x3021('0xa3'));}}function onYouTubePlayerReady2(){youtube_video_player=yt_video_player;youtube_video_player[_0x3021('0x2a9')]();if(tv_type==='youtube'){change('tv');}}function start_twitch(){twitch_video_player=new Twitch['Player'](_0x3021('0x2aa'),{'channel':_0x3021('0x2ab'),'width':0x280,'height':0x168});twitch_video_player[_0x3021('0x11b')](Twitch[_0x3021('0x2a7')][_0x3021('0x2ac')],()=>{$(_0x3021('0xb2'))[_0x3021('0xe0')]('iframe')['eq'](0x0)[_0x3021('0x122')]('id',_0x3021('0x2ad'))['addClass'](_0x3021('0x2ae'));twitch_video_player['setVolume'](0x0);if(tv_type===_0x3021('0x19c')){change('tv');}});}function setup_userinfo(){$(_0x3021('0x2af'))['get'](0x0)['addEventListener']('load',function(){update_modal_scrollbar(_0x3021('0x292'));});$('#userinfo_profile_image')[_0x3021('0x122')](_0x3021('0xbb'),profile_image);}function show_userinfo(){msg_userinfo[_0x3021('0x1d')](function(){$(_0x3021('0x2b0'))[_0x3021('0x9c')](username);update_modal_scrollbar(_0x3021('0x292'));});}function show_status(){msg_info[_0x3021('0x1d')](template_status({'info':get_status_html()}),function(){stu=!![];});}function get_status_html(){var _0x36a7ec=$(_0x3021('0x167'));var _0x266ce3='';_0x266ce3+=_0x3021('0x2b1');if(topic_setter){_0x266ce3+=_0x3021('0x2b2')+topic_setter+'\x20|\x20'+topic_date+_0x3021('0x2b3');}else{_0x266ce3+=_0x3021('0x2b4');}_0x266ce3+=_0x3021('0x2b5');if(is_public){_0x266ce3+=_0x3021('0x2b6');}else{_0x266ce3+=_0x3021('0x2b7');}_0x266ce3+='<div\x20class=\x27info_item\x27><div\x20class=\x27info_title\x27>Log</div>';if(log_enabled){_0x266ce3+='<div\x20class=\x27info_item_content\x27>Enabled</div></div>';}else{_0x266ce3+=_0x3021('0x2b8');}_0x36a7ec['append'](_0x266ce3);_0x36a7ec[_0x3021('0xe0')](_0x3021('0x2b9'))['eq'](0x0)[_0x3021('0x9c')](room_name)[_0x3021('0x1b6')]();var _0x2a8c46=_0x36a7ec[_0x3021('0xe0')](_0x3021('0x2ba'))['eq'](0x0);if(_0x2a8c46[_0x3021('0x9c')]()===''){_0x2a8c46[_0x3021('0x9c')](topic)[_0x3021('0x1b6')]();}_0x36a7ec[_0x3021('0xe0')](_0x3021('0x2bb'))['eq'](0x0)[_0x3021('0x9c')](radio_source)['urlize']();return _0x36a7ec[_0x3021('0x11')]();}function fill(){var _0xfc2643='abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20\x0a\x09$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20\x0a\x09DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@\x20©«»\x20¤¼×\x20{}\x20abc\x0a\x09def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x0a\x09=?*\x20\x27<>\x20#|;\x20²³~\x20@\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x0a\x09JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x0a\x09ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x0a\x09\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x0a\x09MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x0a\x09mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20\x0a\x09@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x0a\x09WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x0a\x09wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x0a\x09{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x0a\x09=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x0a\x09MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x0a\x09pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20\x0a\x09©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x0a\x09$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}\x20abc\x20def\x20ghi\x20jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x0a\x09GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;\x20²³~\x20@`´\x20©«»\x20¤¼×\x20{}abc\x20def\x20ghi\x0a\x09jkl\x20mno\x20pqrs\x20tuv\x20wxyz\x20ABC\x20DEF\x20GHI\x20JKL\x20MNO\x20PQRS\x20TUV\x20WXYZ\x20!\x22§\x20$%&\x20/()\x20=?*\x20\x27<>\x20#|;';update_chat(username,_0xfc2643,profile_image);}function confirm_logout(){var _0x588f67=confirm(_0x3021('0x2bc'));if(_0x588f67){logout();}}function logout(){goto_url('/logout');}function change_username(_0x546702){if(utilz[_0x3021('0x2bd')](_0x546702)[_0x3021('0xd2')]!==_0x546702[_0x3021('0xd2')]){chat_announce('[',']',_0x3021('0x2be'),_0x3021('0x20'));return;}if(_0x546702[_0x3021('0xd2')]===0x0){chat_announce('[',']',_0x3021('0x2bf'),_0x3021('0x20'));return;}if(_0x546702[_0x3021('0xd2')]>max_username_length){chat_announce('[',']','Username\x20is\x20too\x20long','small');return;}if(_0x546702===username){chat_announce('[',']',_0x3021('0x2c0'),'small');return;}socket_emit(_0x3021('0x2c1'),{'username':_0x546702});}function username_changed(_0x1c5fba){user_username=_0x1c5fba['username'];chat_announce('[',']',_0x3021('0x2c2')+_0x1c5fba[_0x3021('0xcf')],'small');}function change_password(_0x42ac1b){if(_0x42ac1b[_0x3021('0xd2')]<min_password_length){chat_announce('[',']','Password\x20is\x20too\x20short.\x20It\x20must\x20be\x20at\x20least\x20'+min_password_length+_0x3021('0x2c3'),_0x3021('0x20'));return;}if(_0x42ac1b['length']>max_password_length){chat_announce('[',']',_0x3021('0x2c4'),_0x3021('0x20'));return;}socket_emit('change_password',{'password':_0x42ac1b});}function password_changed(_0x4734c5){chat_announce('[',']',_0x3021('0x2c5')+_0x4734c5['password'],'small');}function change_email(_0xaee8a1){if(_0xaee8a1[_0x3021('0xd2')]===0x0){chat_announce('[',']',_0x3021('0x2bf'),_0x3021('0x20'));return;}if(_0xaee8a1['indexOf']('@')===-0x1||_0xaee8a1['indexOf']('\x20')!==-0x1){chat_announce('[',']',_0x3021('0x2c6'),_0x3021('0x20'));return;}if(_0xaee8a1['length']>max_email_length){chat_announce('[',']',_0x3021('0x2c7'),_0x3021('0x20'));return;}socket_emit(_0x3021('0x2c8'),{'email':_0xaee8a1});}function email_changed(_0x47b219){chat_announce('[',']',_0x3021('0x2c9')+_0x47b219['email'],'small');}function request_details(){socket_emit(_0x3021('0x2ca'),{});}function show_details(_0x3e49b9){if(_0x3e49b9[_0x3021('0x2cb')]===''){_0x3e49b9[_0x3021('0x2cb')]='No\x20Email';}var _0x39b8c4=$('<div></div>');var _0x261b41='';_0x261b41+=_0x3021('0x2cc');_0x261b41+=_0x3021('0x2cd');_0x39b8c4[_0x3021('0x16c')](_0x261b41);_0x39b8c4[_0x3021('0xe0')]('#details_username')['eq'](0x0)[_0x3021('0x9c')](_0x3e49b9['username']);_0x39b8c4[_0x3021('0xe0')](_0x3021('0x2ce'))['eq'](0x0)[_0x3021('0x9c')](_0x3e49b9['email']);msg_info[_0x3021('0x1d')](_0x39b8c4[_0x3021('0x11')]());}function show_log_messages(){if(log_messages&&log_messages[_0x3021('0xd2')]>0x0){for(var _0x170802 of log_messages){var _0x3991b6=_0x170802['data'];if(_0x3991b6){if(_0x170802[_0x3021('0x54')]==='chat'){update_chat(_0x3991b6[_0x3021('0xcf')],_0x3991b6[_0x3021('0x2cf')],_0x3991b6[_0x3021('0x56')],_0x170802[_0x3021('0x9e')]);}else if(_0x170802[_0x3021('0x54')]===_0x3021('0x199')){announce_uploaded_image(_0x3991b6,_0x170802[_0x3021('0x9e')]);}else if(_0x170802[_0x3021('0x54')]==='radio'){announce_radio_source_change(_0x3991b6,_0x170802[_0x3021('0x9e')]);}else if(_0x170802['type']==='tv'){announce_tv_source_change(_0x3991b6,_0x170802[_0x3021('0x9e')]);}}}log_messages=![];}}function change_log(_0x3f699a){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return![];}if(_0x3f699a===log_enabled){if(_0x3f699a){chat_announce('[',']',_0x3021('0x2d0'),'small');}else{chat_announce('[',']',_0x3021('0x2d1'),_0x3021('0x20'));}}socket_emit('change_log',{'log':_0x3f699a});}function clear_log(){if(role!=='admin'&&role!=='op'){not_an_op();return![];}socket_emit(_0x3021('0x2d2'),{});}function announce_log_change(_0x5a86dd){if(_0x5a86dd[_0x3021('0x59')]){var _0x64bb9c=_0x5a86dd[_0x3021('0xcf')]+'\x20enabled\x20the\x20log';}else{var _0x64bb9c=_0x5a86dd[_0x3021('0xcf')]+'\x20disabled\x20the\x20log';}chat_announce('~','~',_0x64bb9c,'small');log_enabled=_0x5a86dd[_0x3021('0x59')];}function announce_log_cleared(_0x3059c3){var _0x162542='';if(username===_0x3059c3[_0x3021('0xcf')]){var _0x37ecb5=_0x3021('0x2d3');}else{var _0x37ecb5=_0x3059c3[_0x3021('0xcf')];}_0x162542+=_0x37ecb5+_0x3021('0x2d4');chat_announce('~','~',_0x162542,'small');}function show_log(){if(log_enabled){chat_announce('[',']',_0x3021('0x2d5'),'small');}else{chat_announce('[',']',_0x3021('0x2d6'),'small');}}function show_modal_image(_0x38b601,_0x585c1a=![]){if(_0x585c1a){var _0x113a3e=_0x3021('0x2d7')+_0x585c1a+'\x22';}else{var _0x113a3e='';}msg_image[_0x3021('0x1d')](_0x3021('0x2d8')+_0x113a3e+'\x20id=\x22modal_image\x22\x20class=\x22modal_image\x22\x20src=\x22'+_0x38b601+'\x22>',function(){$(_0x3021('0x2d9'))[_0x3021('0x20b')](0x0)[_0x3021('0x11b')](_0x3021('0x11c'),function(){$(_0x3021('0x2da'))[_0x3021('0x5')](_0x3021('0x3b'),'none');this[_0x3021('0x2db')][_0x3021('0x3b')]=_0x3021('0x104');update_modal_scrollbar('image');});$(_0x3021('0x2d9'))['on']('error',function(){msg_image[_0x3021('0x121')](_0x3021('0x2dc'));});});}function not_an_op(){chat_announce('[',']',_0x3021('0x2dd'),_0x3021('0x20'));}function modal_color_up(){$(_0x3021('0x2de'))['prev']()[_0x3021('0x10c')](_0x3021('0x11f'),_0x3021('0x11f'));modal_color_changed();}function modal_color_down(){$(_0x3021('0x2de'))['next']()[_0x3021('0x10c')](_0x3021('0x11f'),_0x3021('0x11f'));modal_color_changed();}function modal_color_changed(){settings['modal_color']=$(_0x3021('0x2de'))[_0x3021('0x10e')]();change_modal_color(settings['modal_color']);save_settings();}function show_radio_url_picker(){var _0x43cd97='';_0x43cd97+=_0x3021('0x2df');_0x43cd97+=_0x3021('0x2e0');_0x43cd97+=_0x3021('0x2e1');_0x43cd97+=_0x3021('0x2e2');_0x43cd97+=_0x3021('0x2e0');_0x43cd97+=_0x3021('0x2e3');msg_info['show'](_0x43cd97,function(){rup=!![];$(_0x3021('0x155'))[_0x3021('0x242')]();});}function show_image_picker(){msg_image_picker[_0x3021('0x1d')](function(){iup=!![];$(_0x3021('0x151'))[_0x3021('0x242')]();});}function show_tv_url_picker(){var _0x5202ac='';_0x5202ac+=_0x3021('0x2e4');_0x5202ac+=_0x3021('0x2e0');_0x5202ac+='Enter\x20a\x20YouTube\x20search\x20term\x20or\x20URL';_0x5202ac+=_0x3021('0x2e5');_0x5202ac+=_0x3021('0x2e6');_0x5202ac+='<div\x20class=\x27spacer3\x27></div>';_0x5202ac+=_0x3021('0x2e7');msg_info[_0x3021('0x1d')](_0x5202ac,function(){tup=!![];$(_0x3021('0x2e8'))[_0x3021('0x242')]();});}function start_titles(){$('.nicetitle')[_0x3021('0x108')](function(){tippy(this,{'delay':[0x3e8,0x64],'animation':_0x3021('0x2e9'),'hideOnClick':!![],'duration':0x64,'arrow':!![],'performance':!![],'size':_0x3021('0x2ea'),'arrowSize':_0x3021('0x20')});});}function setup_media_video(){$(_0x3021('0xaf'))[0x0]['volume']=0x0;}function num_media_elements_visible(){var _0x4b89d0=0x0;$(_0x3021('0x2eb'))[_0x3021('0x2ec')]()['each'](function(){if($(this)[_0x3021('0x5')](_0x3021('0x3b'))!==_0x3021('0x3e')){_0x4b89d0+=0x1;}});return _0x4b89d0;}function fix_media_margin(){if(num_media_elements_visible()===0x2){$(_0x3021('0x2ed'))[_0x3021('0x5')](_0x3021('0x2ee'),_0x3021('0x2ef'));$(_0x3021('0x2f0'))[_0x3021('0x5')]('margin-top',_0x3021('0x2ef'));}else{$(_0x3021('0x2ed'))[_0x3021('0x5')](_0x3021('0x2ee'),'0');$('#media_tv')[_0x3021('0x5')](_0x3021('0x2f1'),'0');}}function toggle_images(){settings[_0x3021('0x19a')]=!settings[_0x3021('0x19a')];change_images_visibility();save_settings();}function change_images_visibility(){if(room_images_enabled&&settings[_0x3021('0x19a')]){$(_0x3021('0x2f2'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'));$('#media_image_container')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'));$(_0x3021('0x2f3'))[_0x3021('0x2f4')](_0x3021('0x2f5'));$(_0x3021('0x2f3'))['addClass'](_0x3021('0x2f6'));if(layout_mode!==_0x3021('0x3')){enable_normal_mode();}change(_0x3021('0x199'));}else{$('#media_image_container')[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));var _0x4c2672=num_media_elements_visible();if(_0x4c2672===0x0){hide_media();}else if(_0x4c2672===0x1){enable_wide_mode();}$('#footer_toggle_images_icon')[_0x3021('0x2f4')](_0x3021('0x2f6'));$(_0x3021('0x2f3'))[_0x3021('0x2f7')]('fa-toggle-off');}fix_media_margin();fix_visible_video_frame();update_chat_scrollbar();goto_bottom();}function toggle_tv(){settings[_0x3021('0x19b')]=!settings[_0x3021('0x19b')];change_tv_visibility();save_settings();}function change_tv_visibility(){if(room_tv_enabled&&settings[_0x3021('0x19b')]){$(_0x3021('0x2f2'))['css'](_0x3021('0x3b'),_0x3021('0xb4'));$(_0x3021('0x2f0'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0xb4'))/fix_visible_video_frame();$(_0x3021('0x2f8'))[_0x3021('0x2f4')](_0x3021('0x2f5'));$(_0x3021('0x2f8'))['addClass'](_0x3021('0x2f6'));change('tv');}else{$(_0x3021('0x2f0'))[_0x3021('0x5')](_0x3021('0x3b'),_0x3021('0x3e'));if(num_media_elements_visible()===0x0){hide_media();}else{stop_videos();}$('#footer_toggle_tv_icon')[_0x3021('0x2f4')](_0x3021('0x2f6'));$(_0x3021('0x2f8'))[_0x3021('0x2f7')](_0x3021('0x2f5'));}fix_media_margin();update_chat_scrollbar();goto_bottom();}function toggle_radio(){settings[_0x3021('0x19d')]=!settings['radio_enabled'];change_radio_visibility();save_settings();}function change_radio_visibility(){if(room_radio_enabled&&settings[_0x3021('0x19d')]){$(_0x3021('0x2f9'))[_0x3021('0x5')](_0x3021('0x3b'),'initial');$(_0x3021('0x2fa'))[_0x3021('0x2f4')]('fa-toggle-off');$('#footer_toggle_radio_icon')[_0x3021('0x2f7')](_0x3021('0x2f6'));$('#header_topic')[_0x3021('0x5')](_0x3021('0x3b'),'none');}else{stop_radio();$(_0x3021('0x2f9'))[_0x3021('0x5')]('display',_0x3021('0x3e'));$(_0x3021('0x2fa'))[_0x3021('0x2f4')](_0x3021('0x2f6'));$('#footer_toggle_radio_icon')[_0x3021('0x2f7')](_0x3021('0x2f5'));$(_0x3021('0x24f'))['css'](_0x3021('0x3b'),_0x3021('0x41'));}}function open_profile_image_picker(){$(_0x3021('0x2fb'))[_0x3021('0xdc')]();}function profile_image_selected(_0x1f4b49){if(_0x1f4b49['files']&&_0x1f4b49[_0x3021('0x12a')][0x0]){var _0x497fd1=new FileReader();_0x497fd1['onload']=function(_0x46654b){var _0x5c163e='<img\x20id=\x27profile_image_canvas_image\x27><div\x20id=\x27profile_image_canvas_button\x27>Crop\x20and\x20Upload</div>';msg_info[_0x3021('0x1d')](_0x5c163e,function(){$('#profile_image_canvas_image')[_0x3021('0x122')](_0x3021('0xbb'),_0x46654b[_0x3021('0x19f')][_0x3021('0x2fc')]);$(_0x3021('0x2fb'))['wrap'](_0x3021('0x2fd'))[_0x3021('0x184')](_0x3021('0x2fe'))[_0x3021('0x20b')](0x0)[_0x3021('0x2ff')]();var _0x20f3b2=$(_0x3021('0x300'))[0x0];var _0x4c4331=$(_0x3021('0x301'))[0x0];var _0x3076a=![];var _0x5e4d9e=new Cropper(_0x20f3b2,{'aspectRatio':0x1,'viewMode':0x1,'ready':function(){_0x3076a=!![];update_modal_scrollbar('info');}});_0x4c4331['onclick']=function(){var _0x4e1129;var _0x493e7f;var _0x3d5daa;if(!_0x3076a){return;}_0x4e1129=_0x5e4d9e['getCroppedCanvas']();_0x493e7f=get_rounded_canvas(_0x4e1129);_0x493e7f[_0x3021('0x302')](function(_0x32abd2){$(_0x3021('0x2af'))[_0x3021('0x122')]('src',profile_image_loading_url);upload_file(_0x32abd2,_0x3021('0x303'));msg_info[_0x3021('0x304')]();},_0x3021('0x305'),0.95);};});};_0x497fd1[_0x3021('0x306')](_0x1f4b49[_0x3021('0x12a')][0x0]);}}function get_rounded_canvas(_0xd767b3){var _0xda31e0=document[_0x3021('0x232')](_0x3021('0x307'));var _0x58cf32=_0xda31e0[_0x3021('0x308')]('2d');var _0x133c86=0x12c;var _0x4aa4fa=0x12c;_0xda31e0[_0x3021('0x309')]=_0x133c86;_0xda31e0[_0x3021('0x30a')]=_0x4aa4fa;_0x58cf32[_0x3021('0x30b')]=!![];_0x58cf32[_0x3021('0x30c')](_0xd767b3,0x0,0x0,_0x133c86,_0x4aa4fa);_0x58cf32[_0x3021('0x30d')]='destination-in';_0x58cf32[_0x3021('0x30e')]();_0x58cf32[_0x3021('0x30f')](_0x133c86/0x2,_0x4aa4fa/0x2,Math['min'](_0x133c86,_0x4aa4fa)/0x2,0x0,0x2*Math['PI'],!![]);_0x58cf32[_0x3021('0x310')]();return _0xda31e0;}function setup_profile_image(_0x5c2825){if(_0x5c2825===''){profile_image=default_profile_image_url;}else{profile_image=_0x5c2825;}}function setup_show_profile(){$(_0x3021('0x311'))[_0x3021('0x20b')](0x0)[_0x3021('0x11b')]('load',function(){update_modal_scrollbar(_0x3021('0x293'));});}function show_profile(_0x51245b,_0x343132){if(_0x343132===''||_0x343132===undefined){var _0x3c139d=default_profile_image_url;}else{var _0x3c139d=_0x343132;}msg_profile[_0x3021('0x1d')](function(){$(_0x3021('0x312'))['text'](_0x51245b);$('#show_profile_image')[_0x3021('0x122')](_0x3021('0xbb'),_0x3c139d);});}function profile_image_changed(_0x1fcf12){if(_0x1fcf12['username']===username){profile_image=_0x1fcf12['profile_image'];$(_0x3021('0x2af'))[_0x3021('0x122')](_0x3021('0xbb'),profile_image);}update_user_profile_image(_0x1fcf12[_0x3021('0xcf')],_0x1fcf12[_0x3021('0x56')]);}function update_user_profile_image(_0x29cb0f,_0x2c8ce0){for(var _0x329a66=0x0;_0x329a66<userlist['length'];_0x329a66++){var _0x3400c7=userlist[_0x329a66];if(_0x3400c7[0x0]===_0x29cb0f){userlist[_0x329a66][0x2]=_0x2c8ce0;return;}}}function get_frame_ratio(_0x41c6aa){var _0x192794='#'+_0x41c6aa;$(_0x192794)[_0x3021('0xee')]('ratio',$(_0x192794)[_0x3021('0x30a')]()/$(_0x192794)['width']())['removeAttr'](_0x3021('0x30a'))['removeAttr']('width');return $(_0x192794)[_0x3021('0xee')](_0x3021('0x313'));}function fix_visible_video_frame(){$(_0x3021('0x314'))[_0x3021('0x108')](function(){if($(this)[_0x3021('0x5')](_0x3021('0x3b'))!==_0x3021('0x3e')){if($(this)[_0x3021('0xee')](_0x3021('0x313'))!==undefined){fix_video_frame(this['id']);}}});}function fix_video_frame(_0x113012){var _0x1bd4f1='#'+_0x113012;var _0x2a4353=$(_0x1bd4f1);var _0x2c6022=_0x2a4353[_0x3021('0xee')]('ratio');if(_0x2c6022===undefined){_0x2c6022=get_frame_ratio(_0x113012);}var _0x364069=_0x2a4353['parent']();var _0x322aa5=_0x364069['width']();var _0x3f7490=_0x364069[_0x3021('0x30a')]();var _0x5805d8=_0x2a4353[_0x3021('0x309')]();var _0x5c9891=_0x2a4353['height']();_0x5c9891=_0x5805d8*_0x2c6022;if(_0x5805d8===_0x322aa5&&_0x5c9891===_0x3f7490){return;}var _0x2ba8eb=0x0;var _0x20c24c=0x30d40;if(_0x5c9891<_0x3f7490&&_0x5805d8<_0x322aa5){while(_0x2ba8eb<_0x20c24c){if(_0x5c9891<_0x3f7490&&_0x5805d8<_0x322aa5){_0x5805d8=_0x5805d8+0x1;_0x5c9891=_0x5805d8*_0x2c6022;}else{_0x2a4353[_0x3021('0x309')](_0x5805d8);_0x2a4353[_0x3021('0x30a')](_0x5c9891);return;}_0x20c24c+=0x1;}_0x2a4353[_0x3021('0x309')](_0x5805d8);_0x2a4353['height'](_0x5c9891);}else{while(_0x2ba8eb<_0x20c24c){if(_0x5c9891>_0x3f7490||_0x5805d8>_0x322aa5){_0x5805d8=_0x5805d8-0x1;_0x5c9891=_0x5805d8*_0x2c6022;}else{_0x2a4353[_0x3021('0x309')](_0x5805d8);_0x2a4353['height'](_0x5c9891);return;}_0x20c24c+=0x1;}_0x2a4353[_0x3021('0x309')](_0x5805d8);_0x2a4353['height'](_0x5c9891);}}function change_room_images_enabled(_0xc9e860){if(role!=='admin'&&role!=='op'){not_an_op();return;}if(_0xc9e860){if(room_images_enabled){chat_announce('[',']','Room\x20images\x20are\x20already\x20enabled','small');return![];}}else{if(!room_images_enabled){chat_announce('[',']',_0x3021('0x315'),_0x3021('0x20'));return![];}}socket_emit(_0x3021('0x316'),{'what':_0xc9e860});}function change_room_tv_enabled(_0x3af61c){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return;}if(_0x3af61c){if(room_tv_enabled){chat_announce('[',']','Room\x20tv\x20is\x20already\x20enabled','small');return![];}}else{if(!room_tv_enabled){chat_announce('[',']',_0x3021('0x317'),'small');return![];}}socket_emit(_0x3021('0x318'),{'what':_0x3af61c});}function change_room_radio_enabled(_0x7965c5){if(role!=='admin'&&role!=='op'){not_an_op();return;}if(_0x7965c5){if(room_radio_enabled){chat_announce('[',']',_0x3021('0x319'),_0x3021('0x20'));return![];}}else{if(!room_radio_enabled){chat_announce('[',']','Room\x20radio\x20is\x20already\x20disabled',_0x3021('0x20'));return![];}}socket_emit(_0x3021('0x31a'),{'what':_0x7965c5});}function announce_room_images_enabled_change(_0x24262a){if(_0x24262a['what']){chat_announce('~','~',_0x24262a[_0x3021('0xcf')]+_0x3021('0x31b'),_0x3021('0x20'));}else{chat_announce('~','~',_0x24262a['username']+_0x3021('0x31c'),_0x3021('0x20'));}room_images_enabled=_0x24262a[_0x3021('0x26a')];change_images_visibility();check_permissions();}function announce_room_tv_enabled_change(_0x83779a){if(_0x83779a['what']){chat_announce('~','~',_0x83779a[_0x3021('0xcf')]+_0x3021('0x31d'),_0x3021('0x20'));}else{chat_announce('~','~',_0x83779a[_0x3021('0xcf')]+_0x3021('0x31e'),'small');}room_tv_enabled=_0x83779a[_0x3021('0x26a')];change_tv_visibility(_0x83779a[_0x3021('0x26a')]);check_permissions();}function announce_room_radio_enabled_change(_0x4e8888){if(_0x4e8888['what']){chat_announce('~','~',_0x4e8888[_0x3021('0xcf')]+_0x3021('0x31f'),_0x3021('0x20'));}else{chat_announce('~','~',_0x4e8888[_0x3021('0xcf')]+_0x3021('0x320'),_0x3021('0x20'));}room_radio_enabled=_0x4e8888[_0x3021('0x26a')];change_radio_visibility(_0x4e8888[_0x3021('0x26a')]);check_permissions();}function hide_media(){stop_videos();$(_0x3021('0x2f2'))[_0x3021('0x5')]('display',_0x3021('0x3e'));}function setup_active_media(_0x43ada8){room_images_enabled=_0x43ada8['room_images_enabled'];room_tv_enabled=_0x43ada8['room_tv_enabled'];room_radio_enabled=_0x43ada8['room_radio_enabled'];change_images_visibility();change_tv_visibility();change_radio_visibility();}function recreate_background_image(){$(_0x3021('0xc6'))[_0x3021('0x181')]();$(_0x3021('0x7'))[_0x3021('0x321')](_0x3021('0x322'));}function change_default_theme(_0xafb56d){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return;}if(_0xafb56d===undefined){return![];}if(_0xafb56d===default_theme){return![];}socket_emit(_0x3021('0x323'),{'color':_0xafb56d});}function announce_default_theme_change(_0x5bc626){chat_announce('~','~',_0x5bc626[_0x3021('0xcf')]+_0x3021('0x324')+_0x5bc626[_0x3021('0xc5')],_0x3021('0x20'));default_theme=_0x5bc626['color'];set_default_theme();}function queue_image(_0x50bbac){image_queue['push'](_0x50bbac);if(image_queue_timeout===undefined){check_image_queue();}}function check_image_queue(){if(image_queue[_0x3021('0xd2')]>0x0){var _0x36419c=image_queue[0x0];if(_0x36419c!==_0x3021('0x2')){setup_image(image_queue[0x0]);}image_queue[_0x3021('0x325')]();image_queue_timeout=setTimeout(function(){check_image_queue();},image_queue_interval);}else{clearTimeout(image_queue_timeout);image_queue_timeout=undefined;}}function open_default_background_image_picker(){$(_0x3021('0x326'))['click']();}function default_background_image_selected(_0x2eabc5){var _0x57e024=_0x2eabc5[_0x3021('0x12a')][0x0];var _0x164030=_0x57e024['size']/0x400;if(_0x164030>max_image_size){msg_info[_0x3021('0x1d')](_0x3021('0x327'));return![];}$(_0x3021('0x11a'))[_0x3021('0x122')]('src',background_image_loading_url);upload_file(_0x57e024,'background_image_upload');}function announce_default_background_image_change(_0x34e172){default_background_image=_0x34e172[_0x3021('0xbd')];if(role===_0x3021('0x22')||role==='op'){$(_0x3021('0x11a'))[_0x3021('0x122')](_0x3021('0xbb'),default_background_image);}set_background_image();chat_announce('~','~',_0x34e172['username']+_0x3021('0x328'),_0x3021('0x20'));}function change_default_background_image_enabled(_0x5e622f){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return;}if(_0x5e622f){if(default_background_image_enabled){chat_announce('[',']',_0x3021('0x329'),'small');return![];}}else{if(!default_background_image_enabled){chat_announce('[',']',_0x3021('0x32a'),_0x3021('0x20'));return![];}}socket_emit('change_default_background_image_enabled',{'what':_0x5e622f});}function announce_default_background_image_enabled_change(_0x189d53){if(_0x189d53[_0x3021('0x26a')]){chat_announce('~','~',_0x189d53['username']+_0x3021('0x32b'),'small');}else{chat_announce('~','~',_0x189d53['username']+_0x3021('0x32c'),'small');}default_background_image_enabled=_0x189d53[_0x3021('0x26a')];set_background_image();}function sound_notify(){if(document['hidden']&&settings['sound_notifications']){pup();}}function upload_image_by_url(_0x529b55){_0x529b55=_0x529b55[_0x3021('0xc8')](/\.gifv/g,_0x3021('0x138'));$('#test_image')[_0x3021('0x122')](_0x3021('0xbb'),_0x529b55[_0x3021('0xa4')]('?')[0x0]);}function change_voice_permission(_0x1b730f,_0x1ccf7a){if(role!==_0x3021('0x22')&&role!=='op'){not_an_op();return;}if(window[_0x1b730f]===undefined){return![];}if(window[_0x1b730f]===_0x1ccf7a){chat_announce('[',']',_0x3021('0x32d'),_0x3021('0x20'));return![];}socket_emit(_0x3021('0x32e'),{'ptype':_0x1b730f,'what':_0x1ccf7a});}function announce_voice_permission_change(_0x3d5be6){if(_0x3d5be6[_0x3021('0x26a')]){chat_announce('~','~',_0x3d5be6[_0x3021('0xcf')]+_0x3021('0x32f')+_0x3d5be6[_0x3021('0x10d')]+_0x3021('0x330'),_0x3021('0x20'));}else{chat_announce('~','~',_0x3d5be6[_0x3021('0xcf')]+_0x3021('0x32f')+_0x3d5be6[_0x3021('0x10d')]+_0x3021('0x331'),_0x3021('0x20'));}window[_0x3d5be6[_0x3021('0x10d')]]=_0x3d5be6[_0x3021('0x26a')];check_permissions();}function enable_wide_mode(){$(_0x3021('0x332'))[_0x3021('0x5')](_0x3021('0x333'),_0x3021('0xf9'));$(_0x3021('0x2f2'))[_0x3021('0x5')]('min-width','60%');layout_mode='wide';}function enable_normal_mode(){$('#chat_main')['css']('min-width',_0x3021('0x334'));$(_0x3021('0x2f2'))[_0x3021('0x5')](_0x3021('0x333'),_0x3021('0x334'));layout_mode=_0x3021('0x3');}function setup_timeago(){var _0x29b66b=function(_0x343d64,_0x22f55f,_0x1b8cfc){return[['just\x20now',_0x3021('0x335')],['just\x20now',_0x3021('0x335')],[_0x3021('0x336'),'in\x201\x20minute'],[_0x3021('0x337'),_0x3021('0x338')],['1\x20hour\x20ago',_0x3021('0x339')],[_0x3021('0x33a'),'in\x20%s\x20hours'],[_0x3021('0x33b'),_0x3021('0x33c')],[_0x3021('0x33d'),_0x3021('0x33e')],[_0x3021('0x33f'),_0x3021('0x340')],[_0x3021('0x341'),_0x3021('0x342')],['1\x20month\x20ago',_0x3021('0x343')],[_0x3021('0x344'),_0x3021('0x345')],[_0x3021('0x346'),_0x3021('0x347')],[_0x3021('0x348'),_0x3021('0x349')]][_0x22f55f];};timeago[_0x3021('0x34a')](_0x3021('0x195'),_0x29b66b);time_ago=timeago();}function setup_input(){$(_0x3021('0x15c'))['on']('input',function(){input_changed=!![];});}